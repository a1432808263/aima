(function(t){function e(e){for(var n,r,l=e[0],i=e[1],c=e[2],p=0,d=[];p<l.length;p++)r=l[p],o[r]&&d.push(o[r][0]),o[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==o[i]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var n={},o={"growth-locus":0},s=[];function r(t){return l.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"24e2b1dd"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=n);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=r(t),s=function(e){i.onerror=i.onload=null,clearTimeout(c);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+n+": "+s+")");r.type=n,r.request=s,a[1](r)}o[t]=void 0}};var c=setTimeout(function(){s({type:"timeout",target:i})},12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(a,n,function(e){return t[e]}.bind(null,n));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var p=0;p<i.length;p++)e(i[p]);var u=c;s.push([32,"chunk-vendors","chunk-common"]),a()})({2130:function(t,e,a){},"2c1e":function(t,e,a){"use strict";a.r(e);a("be4f"),a("450d");var n=a("896a"),o=a.n(n),s=(a("9e1f"),a("6ed5")),r=a.n(s),l=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-fluid",staticStyle:{padding:"unset"}},[a("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}})],1),a("div",{staticClass:"tap"},[a("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:4}})],1),a("div",{staticClass:"row mt-5 "},[t.pdfFineFlg?a("div",[t.pdfFineFlg?a("PDF",{attrs:{"pdf-url":t.pdfFineUrl,"is-contrast":t.pdfFineIsContrast,"display-id":t.displayFineId}}):t._e(),t.pdfMyFlg?a("PDF",{staticStyle:{"margin-left":"50%"},attrs:{"pdf-url":t.pdfMyUrl,"is-contrast":t.pdfMyIsContrast,"display-id":t.displayMyId}}):t._e()],1):t._e(),a("div",{staticClass:"col-md-8 col-md-offset-2 text-center shadow-radius"},[a("div",{staticClass:"col-md-12 col-xs-12 text-center"},[t._m(0),null!=t.classPercent&&null!=t.schoolPercent&&null!=t.projectPercent?a("div",{staticClass:"col-md-7 col-xs-12"},[a("div",{staticClass:"col-md-12 text-center pt-1"},[a("h1",{staticClass:"font-bold project-name"},[t._v(t._s(t.projectName))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"在本项目已超过"+t.projectPM+"人"}},[a("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.projectPercent,color:"rgb(19, 206, 102)"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在本项目中排名"+t._s(t.rankInfo.projectRank)+"/"+t._s(t.rankInfo.projectHeadCount))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"在学校内已超过"+t.schoolPM+"人"}},[a("el-progress",{staticStyle:{"argin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.schoolPercent,color:"#e6a23c"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在学校中排名"+t._s(t.rankInfo.schoolRank)+"/"+t._s(t.rankInfo.schoolHeadCount))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"在班级内已超过"+t.classPM+"人"}},[a("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.classPercent,color:"rgb(32, 160, 255)"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在班级中排名"+t._s(t.rankInfo.classRank)+"/"+t._s(t.rankInfo.classHeadCount))])])]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"mt-7 pl-8 col-xs-12 col-md-offset-2 col-md-8"},[a("el-timeline",t._l(t.activities,function(e,n){return a("el-timeline-item",{key:n,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,placement:"top",timestamp:e.timestamp}},["stage"===e.dotType?a("div",{staticClass:"font-bold font-large",staticStyle:{"margin-top":"-12px"}},[a("div",[a("a",{attrs:{title:"该阶段反馈报告"},on:{click:function(a){return t.goReport(e)}}},[t._v(t._s(e.content)),a("i",{staticClass:"iconwendangmoban iconfont  ml-3",staticStyle:{color:"#6612cf"}})])])]):a("div",{staticStyle:{"margin-top":"-25px"}},[a("div",[t._v("\n              "+t._s(e.content)+"\n              "),0===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"#409eff"}},[t._v("进行中")]):t._e(),-1===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未开始")]):t._e(),1===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(19, 206, 102)"}},[t._v("已完成")]):t._e(),2===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未完成")]):t._e(),!1===e.dotOpen?a("span",{on:{click:function(a){return t.dotOpenClose(e,n)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})]):t._e(),!0===e.dotOpen?a("span",{on:{click:function(a){return t.dotOpenClose(e,n)}}},[a("i",{staticClass:"el-icon-remove-outline"})]):t._e()]),e.dotOpen?a("div",[e.fineMark?a("div",{staticClass:"row pt-4",staticStyle:{"font-size":"13px"}},[a("div",[a("span",[t._v("我的分数："+t._s(e.mark))])]),a("div",[a("span",[t._v("最佳成绩："+t._s(e.fineMarkUserName))]),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("分数："+t._s(e.fineMark))])])]):a("div",{staticClass:"row pt-4"},[e.noDataFlg?t._e():a("div",[a("div",{staticStyle:{"font-size":"13px"}},[e.canDownFlg?a("div",[a("span",[t._v("我的成果物："+t._s(e.outputNameFormat))]),a("a",{attrs:{title:"下载"}},[e.canDownFlg?a("i",{staticClass:"el-icon-download font-bold action-icon",on:{click:function(a){return t.downLoadOutPut(e)}}}):t._e()])]):a("div",[a("span",[t._v("我的成果物：暂无")])]),e.fineUserName?a("div",[a("span",[t._v("最优成果物："+t._s(e.fineOutputNameFormat))]),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.fineUserName))]),a("a",{attrs:{title:"预览"}},[e.canLookFlg?a("i",{staticClass:"iconfont iconliulan action-icon",staticStyle:{"font-size":"13px"},on:{click:function(a){return t.goPdf(e)}}}):t._e()])]):a("div",[a("span",[t._v("最优成果物：暂无")])])])])])]):t._e()])])}),1)],1)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-5 col-xs-12 text-center"},[n("img",{staticClass:"growth-img",attrs:{src:a("4f9c")}})])}],p=a("10df"),u=a("ba6c"),d=a("3a2d"),f={name:"app",components:{Header:p["a"],HorizontalTap:u["a"],PDF:d["a"]},mounted(){this.loadData()},data(){return{taskList:null,data2:[{name:"执行任务",url:"task-list.html",type:"_self"},{name:"任务清单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"daily-tasks.html",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_self"},{name:"成长轨迹",url:"",type:"_self"}],activities:[],projectName:"",pdfFineFlg:!1,pdfMyFlg:!1,pdfFineUrl:"",pdfMyUrl:"",pdfFineIsContrast:!1,pdfMyIsContrast:!1,displayFineId:"the-canvas",displayMyId:"the-canvas-contrast",rankInfo:null,classPM:null,projectPM:null,schoolPM:null,classPercent:null,projectPercent:null,schoolPercent:null}},methods:{loadData(){let t=this;t.projectName=localStorage.getItem("projectName"),t.$http.post("/doproject/rankStatisticsInfo",{teamId:localStorage.getItem("teamId")},e=>{e.success&&(console.log(e),t.rankInfo=e.data,t.rankInfo.classRank=null==t.rankInfo.classRank?t.rankInfo.classHeadCount:t.rankInfo.classRank,t.rankInfo.projectRank=null==t.rankInfo.projectRank?t.rankInfo.projectHeadCount:t.rankInfo.projectRank,t.rankInfo.schoolRank=null==t.rankInfo.schoolRank?t.rankInfo.schoolHeadCount:t.rankInfo.schoolRank,t.classPM=t.rankInfo.classHeadCount-t.rankInfo.classRank,t.projectPM=t.rankInfo.projectHeadCount-t.rankInfo.projectRank,t.schoolPM=t.rankInfo.schoolHeadCount-t.rankInfo.schoolRank,t.projectPercent=Math.floor(t.projectPM/t.rankInfo.projectHeadCount*100),t.schoolPercent=Math.floor(t.schoolPM/t.rankInfo.schoolHeadCount*100),t.classPercent=Math.floor(t.classPM/t.rankInfo.classHeadCount*100),t.$http.post("/doproject/growthTrajectoryInfo",{teamId:localStorage.getItem("teamId")},e=>{e.success&&(t.taskList=e.data,t.formatData())}))})},formatData(){let t={};this.activities=[];for(var e=0;e<this.taskList.length;e++){t={content:this.taskList[e].stageName,timestamp:"",color:"#FF6600",size:"large",icon:"",dotType:"stage",stageId:this.taskList[e].stageId},this.activities.push(t);for(var a=0;a<this.taskList[e].detail.length;a++)t=this.taskList[e].detail[a],-1===t.status||2===t.status?(this.formatDot(t,"el-icon-close","rgb(255, 73, 73)",""),2===t.status&&(t.dotOpen=!1)):1===t.status||3===t.status?(this.formatDot(t,"el-icon-check","rgb(19, 206, 102)",t.updateTime),t.dotOpen=!1):0===t.status&&(this.formatDot(t,"el-icon-more","#409eff",""),t.dotOpen=!0),this.activities.push(t)}this.activities.push({content:"总结报告",timestamp:"",color:"#FF6600",size:"large",icon:"",dotType:"stage",stageId:0})},formatDot(t,e,a,n){t.content=t.stepName,t.timestamp=n,t.size="normal",t.dotType="step",t.outputNameFormat=this.formatOutputName(t.outputName),t.outputNameFormat.length>15&&(t.outputNameFormat=t.outputNameFormat.substr(0,15)+"..."),t.fineOutputNameFormat=this.formatOutputName(t.fineOutputName),t.fineOutputNameFormat.length>15&&(t.fineOutputNameFormat=t.fineOutputNameFormat.substr(0,15)+"..."),t.icon=e,t.color=a,null==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!0,t.canDownFlg=!1):null!==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!1):null==t.fineOutputName&&null!==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!1,t.canDownFlg=!0):null!==t.fineOutputName&&null!==t.outputName&&(t.isContrast=!0,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!0)},formatOutputName(t){if(null!==t){let e=t.split("$_$");return t=e[1],t}return""},customColorMethod(t){return t<60?"rgb(19, 206, 102)":t<=89&&t>=60?"#6612cf":"rgb(255, 73, 73)"},goPdf(t){let e=this;this.pdfFineFlg=!1,this.pdfMyFlg=!1,t.isContrast?e.$nextTick(()=>{this.pdfFineUrl="http://www.aimaonline.cn/file/pdffile/"+t.fineOutputName+".pdf",this.pdfMyUrl="http://www.aimaonline.cn/file/pdffile/"+t.outputName+".pdf",this.pdfFineIsContrast=!0,this.pdfMyIsContrast=!0,this.pdfFineFlg=!0,this.pdfMyFlg=!0}):(this.pdfFineUrl="http://www.aimaonline.cn/file/pdffile/"+t.fineOutputName+".pdf",this.pdfFineIsContrast=!1,this.pdfFineFlg=!0)},closePdf(){this.pdfFineFlg=!1,this.pdfMyFlg=!1},downLoadOutPut(t){const e=o.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});this.$axios({method:"post",url:"http://www.aimaonline.cn:8085/lying-web/doproject/output/downloadFile",data:{filename:t.outputName},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var n=new Blob([a.data]),o=document.createElement("a"),s=window.URL.createObjectURL(n);o.href=s,o.download=t.outputName.split("$_$")[1],document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s),setTimeout(()=>{e.close()},1e3)}).catch(t=>{console.log(t),setTimeout(()=>{e.close()},1e3)})},goReport(t){0===t.stageId?1!==this.taskList[this.taskList.length-1].detail[0].status?this.$MessageBox.alert("暂无总结报告，请完成所有任务","提示",{confirmButtonText:"确定"}):this.$MessageBox.prompt("请填写项目评价","提示",{confirmButtonText:"确定",callback:t=>{window.location="student-report.html"}}):(localStorage.setItem("stageId",t.stageId),window.location="stage-report.html")},dotOpenClose(t,e){let a=t,n=!t.dotOpen;a.dotOpen=n,this.$set(this.activities,e,a)}}},m=f,g=(a("b865"),a("7fb5"),a("2877")),h=Object(g["a"])(m,i,c,!1,null,"3aa612f6",null),k=h.exports,v=(a("7378"),a("3a10"),a("16b4"),a("346c"),a("1e3b"),a("87c5"),a("4dcb"),a("751a")),y=a("bc3a"),_=a.n(y);l["default"].prototype.$MessageBox=r.a,l["default"].prototype.$Loading=o.a,l["default"].prototype.$http=v["a"],l["default"].prototype.$axios=_.a,new l["default"]({render:t=>t(k)}).$mount("#app")},32:function(t,e,a){t.exports=a("2c1e")},3387:function(t,e,a){},"4f9c":function(t,e,a){t.exports=a.p+"img/growth.c572b10a.png"},"7fb5":function(t,e,a){"use strict";var n=a("2130"),o=a.n(n);o.a},b865:function(t,e,a){"use strict";var n=a("3387"),o=a.n(n);o.a}});
//# sourceMappingURL=growth-locus.571f80f8.js.map