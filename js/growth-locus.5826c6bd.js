(function(t){function e(e){for(var s,i,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)i=l[d],o[i]&&p.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var r=a[i];0!==o[r]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},o={"growth-locus":0},n=[];function i(t){return l.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"24e2b1dd"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,s){a=o[t]=[e,s]});e.push(a[2]=s);var n,r=document.createElement("script");r.charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.src=i(t),n=function(e){r.onerror=r.onload=null,clearTimeout(c);var a=o[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+s+": "+n+")");i.type=s,i.request=n,a[1](i)}o[t]=void 0}};var c=setTimeout(function(){n({type:"timeout",target:r})},12e4);r.onerror=r.onload=n,document.head.appendChild(r)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=c;n.push([30,"chunk-vendors","chunk-common"]),a()})({2130:function(t,e,a){},"2c1e":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container-fluid",staticStyle:{padding:"unset"}},[s("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}})],1),s("div",{staticClass:"tap"},[s("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:4}})],1),s("div",{staticClass:"row mt-5 "},[t.pdfFineFlg?s("div",[s("i",{staticClass:"el-icon-error close-btn",on:{click:t.closePdf}}),t.pdfFineFlg?s("PDF",{attrs:{"pdf-url":t.pdfFineUrl,"is-contrast":t.pdfFineIsContrast,"display-id":t.displayFineId}}):t._e(),t.pdfMyFlg?s("PDF",{staticStyle:{"margin-left":"50%"},attrs:{"pdf-url":t.pdfMyUrl,"is-contrast":t.pdfMyIsContrast,"display-id":t.displayMyId}}):t._e()],1):t._e(),s("div",{staticClass:"col-md-8 col-md-offset-2 text-center shadow-radius"},[s("div",{staticClass:"col-md-12 col-xs-12 text-center"},[t._m(0),t.classPM&&t.schoolPM&&t.projectPM?s("div",{staticClass:"col-md-7 col-xs-12"},[s("div",{staticClass:"col-md-12 text-center pt-1"},[s("h1",{staticClass:"font-bold project-name"},[t._v(t._s(t.projectName))])]),s("div",{staticClass:"col-md-4 text-center pingfen-mt"},[s("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.projectPM,color:"rgb(19, 206, 102)"}}),s("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在本项目中排名"+t._s(t.rankInfo.projectRank)+"/"+t._s(t.rankInfo.projectHeadCount))])],1),s("div",{staticClass:"col-md-4 text-center pingfen-mt"},[s("el-progress",{staticStyle:{"argin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.schoolPM,color:"#e6a23c"}}),s("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在学校中排名"+t._s(t.rankInfo.schoolRank)+"/"+t._s(t.rankInfo.schoolHeadCount))])],1),s("div",{staticClass:"col-md-4 text-center pingfen-mt"},[s("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.classPM,color:"rgb(32, 160, 255)"}}),s("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在班级中排名"+t._s(t.rankInfo.classRank)+"/"+t._s(t.rankInfo.classHeadCount))])],1)]):t._e()])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"mt-7 pl-8 col-xs-12 col-md-offset-2 col-md-8"},[s("el-timeline",t._l(t.activities,function(e,o){return s("el-timeline-item",{key:o,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,placement:"top",timestamp:e.timestamp}},["stage"===e.dotType?s("div",{staticClass:"font-bold font-large",staticStyle:{"margin-top":"-12px"}},[s("div",[s("a",{attrs:{title:"该阶段反馈报告"}},[t._v(t._s(e.content)),s("i",{staticClass:"iconwendangmoban iconfont  ml-3",staticStyle:{color:"#6612cf"}})])])]):s("div",{staticStyle:{"margin-top":"-25px"}},[s("div",[t._v("\n              "+t._s(e.content)+"\n              "),0===e.status?s("span",{staticClass:"task-status",staticStyle:{"background-color":"#409eff"}},[t._v("进行中")]):t._e(),-1===e.status?s("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未开始")]):t._e(),1===e.status?s("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(19, 206, 102)"}},[t._v("已完成")]):t._e(),2===e.status?s("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未完成")]):t._e()]),e.fineMark?s("div",{staticClass:"row pl-6 pt-4"},[s("div",{staticClass:"col-md-3 col-md-offset-1 text-center"},[s("a",{attrs:{title:"评分最高"}},[s("i",{staticClass:"iconzuikuaide iconfont",staticStyle:{"font-size":"20px",color:"gold"}})]),s("div",{staticClass:"mark-per mt-4",style:{color:t.customColorMethod(e.fineMark)}},[t._v("\n                  "+t._s(e.fineMark)+"\n                ")]),s("div",{staticClass:"text-center mt-4 font-small"},[s("a",[t._v(t._s(e.fineMarkUserName))])])]),s("div",{staticClass:"col-md-2"}),s("div",{staticClass:"col-md-3 text-center"},[s("a",{attrs:{title:"我的得分"}},[s("i",{staticClass:"el-icon-user",staticStyle:{"font-size":"25px",color:"#6612cf"}})]),s("div",{staticClass:"mark-per mt-4",style:{color:t.customColorMethod(e.mark)}},[t._v("\n                  "+t._s(e.mark)+"\n                ")]),s("div",{staticClass:"text-center mt-4 font-small"},[s("a",[t._v("我")])])])]):s("div",{staticClass:"row pl-6 pt-4"},[e.noDataFlg?s("div",{staticClass:"col-md-6 text-center"},[s("img",{staticStyle:{"border-radius":"unset",width:"100%",padding:"20px"},attrs:{src:a("306e")}}),s("div",{staticClass:"pointer font-small"},[t._v("暂无任何信息")])]):s("div",[e.fineUserName?s("div",{staticClass:"col-md-3 col-md-offset-1 text-center"},[s("a",{attrs:{title:"评分最高"}},[s("i",{staticClass:"iconzuikuaide iconfont",staticStyle:{"font-size":"20px",color:"gold"}})]),s("div",{staticClass:"rank-img mt-4",style:{backgroundImage:"url("+e.fineUserPhotoUrl+")"}},[s("div",{staticClass:"rank-user"},[t._v(t._s(e.fineUserName))])]),s("div",{staticClass:"text-center mt-4 font-small"},[s("a",[t._v(t._s(e.fineOutputNameFormat))])]),e.canLookFlg?s("div",{staticClass:"text-center mt-2"},[s("i",{staticClass:"iconfont iconliulan action-icon",staticStyle:{"font-size":"14px"},on:{click:function(a){return t.goPdf(e)}}})]):t._e()]):s("div",{staticClass:"col-md-3 col-md-offset-1 text-center"},[s("a",{attrs:{title:"评分最高"}},[s("i",{staticClass:"iconzuikuaide iconfont",staticStyle:{"font-size":"20px",color:"gold"}})]),s("div",{staticClass:"rank-img mt-4",staticStyle:{"background-image":"url('http://39.100.37.131/zhehang/image/userhead/3741223c7f2b48798701560f09fe9757.png')"}},[s("div",{staticClass:"rank-user"},[t._v("暂无排名")])])]),s("div",{staticClass:"col-md-2"}),s("div",{staticClass:"col-md-3 text-center"},[s("a",{attrs:{title:"我的成果物"}},[s("i",{staticClass:"el-icon-user",staticStyle:{"font-size":"25px",color:"#6612cf"}})]),s("div",{staticClass:"rank-img mt-4",style:{backgroundImage:"url("+e.userPhotoUrl+")"}},[s("div",{staticClass:"rank-user"},[t._v("我")])]),e.canDownFlg?s("div",{staticClass:"text-center mt-4 font-small"},[s("a",[t._v(t._s(e.outputNameFormat))])]):s("div",{staticClass:"text-center mt-4"},[s("a",[t._v("未上传成果物")])]),e.canDownFlg?s("div",{staticClass:"text-center mt-2"},[s("i",{staticClass:"el-icon-download  action-icon",staticStyle:{"font-size":"19px"},on:{click:function(a){return t.downLoadOutPut(e)}}})]):t._e()])])])])])}),1)],1)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-5 col-xs-12 text-center"},[s("img",{staticClass:"growth-img",attrs:{src:a("4f9c")}})])}],i=(a("be4f"),a("450d"),a("896a")),l=a.n(i),r=a("10df"),c=a("ba6c"),d=a("3a2d"),u={name:"app",components:{Header:r["a"],HorizontalTap:c["a"],PDF:d["a"]},mounted(){this.loadData()},data(){return{taskList:null,data2:[{name:"执行任务",url:"task-list.html",type:"_self"},{name:"任务单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"daily-tasks.html",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_self"},{name:"成长轨迹",url:"",type:"_self"}],activities:[],projectName:"",pdfFineFlg:!1,pdfMyFlg:!1,pdfFineUrl:"",pdfMyUrl:"",pdfFineIsContrast:!1,pdfMyIsContrast:!1,displayFineId:"the-canvas",displayMyId:"the-canvas-contrast",rankInfo:null,classPM:null,projectPM:null,schoolPM:null}},methods:{loadData(){let t=this;t.projectName=localStorage.getItem("projectName"),this.$http.post("/doproject/growthTrajectoryInfo",{teamId:localStorage.getItem("teamId")},e=>{console.log(e),e.success&&(t.taskList=e.data,t.formatData())}),t.$http.post("/doproject/rankStatisticsInfo",{teamId:localStorage.getItem("teamId")},e=>{e.success&&(t.rankInfo=e.data,t.classPM=Math.floor(100-t.rankInfo.classRank/t.rankInfo.classHeadCount*100),t.projectPM=Math.floor(100-t.rankInfo.projectRank/t.rankInfo.projectHeadCount*100),t.schoolPM=Math.floor(100-t.rankInfo.schoolRank/t.rankInfo.schoolHeadCount*100))})},formatData(){let t={};this.activities=[];for(var e=0;e<this.taskList.length;e++){t={content:this.taskList[e].stageName,timestamp:"",color:"#FF6600",size:"large",icon:"",dotType:"stage"},this.activities.push(t);for(var a=0;a<this.taskList[e].detail.length;a++)t=this.taskList[e].detail[a],-1===t.status||2===t.status?this.formatDot(t,"el-icon-close","rgb(255, 73, 73)",""):1===t.status?this.formatDot(t,"el-icon-check","rgb(19, 206, 102)",t.updateTime):0===t.status&&this.formatDot(t,"el-icon-more","#409eff",""),this.activities.push(t)}},formatDot(t,e,a,s){t.content=t.stepName,t.timestamp=s,t.size="normal",t.dotType="step",t.outputNameFormat=this.formatOutputName(t.outputName),t.outputNameFormat.length>15&&(t.outputNameFormat=t.outputNameFormat.substr(0,15)+"..."),t.fineOutputNameFormat=this.formatOutputName(t.fineOutputName),t.fineOutputNameFormat.length>15&&(t.fineOutputNameFormat=t.fineOutputNameFormat.substr(0,15)+"..."),t.icon=e,t.color=a,null==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!0,t.canDownFlg=!1):null!==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!1):null==t.fineOutputName&&null!==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!1,t.canDownFlg=!0):null!==t.fineOutputName&&null!==t.outputName&&(t.isContrast=!0,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!0)},formatOutputName(t){if(null!==t){let e=t.split("$_$");return t=e[1],t}return""},customColorMethod(t){return t<60?"rgb(19, 206, 102)":t<=89&&t>=60?"#6612cf":"rgb(255, 73, 73)"},goPdf(t){let e=this;this.pdfFineFlg=!1,this.pdfMyFlg=!1,t.isContrast?e.$nextTick(()=>{this.pdfFineUrl="http://39.100.37.131/file/pdffile/"+t.fineOutputName+".pdf",this.pdfMyUrl="http://39.100.37.131/file/pdffile/"+t.outputName+".pdf",this.pdfFineIsContrast=!0,this.pdfMyIsContrast=!0,this.pdfFineFlg=!0,this.pdfMyFlg=!0}):(this.pdfFineUrl="http://39.100.37.131/file/pdffile/"+t.fineOutputName+".pdf",this.pdfFineIsContrast=!1,this.pdfFineFlg=!0)},closePdf(){this.pdfFineFlg=!1,this.pdfMyFlg=!1},downLoadOutPut(t){const e=l.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});this.$axios({method:"post",url:"http://39.100.37.131:8085/lying-web/doproject/output/downloadFile",data:{filename:t.outputName},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var s=new Blob([a.data]),o=document.createElement("a"),n=window.URL.createObjectURL(s);o.href=n,o.download=t.outputName.split("$_$")[1],document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n),setTimeout(()=>{e.close()},1e3)}).catch(t=>{console.log(t),setTimeout(()=>{e.close()},1e3)})}}},p=u,f=(a("c6c5"),a("7fb5"),a("2877")),m=Object(f["a"])(p,o,n,!1,null,"8ecf79ee",null),g=m.exports,h=(a("7378"),a("3a10"),a("16b4"),a("346c"),a("1e3b"),a("87c5"),a("4dcb"),a("751a")),v=a("bc3a"),y=a.n(v);s["default"].prototype.$http=h["a"],s["default"].prototype.$axios=y.a,new s["default"]({render:t=>t(g)}).$mount("#app")},30:function(t,e,a){t.exports=a("2c1e")},"4f9c":function(t,e,a){t.exports=a.p+"img/growth.c572b10a.png"},"5f07":function(t,e,a){},"7fb5":function(t,e,a){"use strict";var s=a("2130"),o=a.n(s);o.a},c6c5:function(t,e,a){"use strict";var s=a("5f07"),o=a.n(s);o.a}});
//# sourceMappingURL=growth-locus.5826c6bd.js.map