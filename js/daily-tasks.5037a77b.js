(function(t){function a(a){for(var i,o,n=a[0],r=a[1],d=a[2],u=0,p=[];u<n.length;u++)o=n[u],l[o]&&p.push(l[o][0]),l[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);c&&c(a);while(p.length)p.shift()();return s.push.apply(s,d||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],i=!0,n=1;n<e.length;n++){var r=e[n];0!==l[r]&&(i=!1)}i&&(s.splice(a--,1),t=o(o.s=e[0]))}return t}var i={},l={"daily-tasks":0},s=[];function o(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.e=function(){return Promise.resolve()},o.m=t,o.c=i,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)o.d(e,i,function(a){return t[a]}.bind(null,i));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=a,n=n.slice();for(var d=0;d<n.length;d++)a(n[d]);var c=r;s.push([20,"chunk-vendors","chunk-common"]),e()})({"1be2":function(t,a,e){},20:function(t,a,e){t.exports=e("833d")},"437b":function(t,a,e){},"59db":function(t,a,e){"use strict";function i(t){var a=new Date;a.setDate(a.getDate()+t);var e=a.getFullYear(),i=a.getMonth()+1,l=a.getDate();return e+"-"+(i<10?"0"+i:i)+"-"+(l<10?"0"+l:l)}a["a"]=i},"833d":function(t,a,e){"use strict";e.r(a);var i=e("2b0e"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-fluid"},[e("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}}),e("div",{staticClass:"row tap"},[e("HorizontalTap",{staticClass:"center",staticStyle:{width:"1088px"},attrs:{data:t.data2,active:2}})],1),e("div",{staticClass:"row"},[e("div",{staticClass:"center-block"},[e("div",{staticClass:"row pt-4 mt-3"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showAllDaily,expression:"showAllDaily==1"}],staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[e("div",{staticClass:"dateTitle"},[e("span",{staticClass:"dateTitleFont"},[t._v(t._s(t.selectedDay))])]),e("div",{staticClass:"d4"}),e("el-timeline",{staticStyle:{"margin-top":"20px"}},t._l(t.dailyList,function(a){return e("el-timeline-item",{key:a.id,attrs:{timestamp:a.createTime,placement:"top"}},[e("el-card",[e("div",{staticClass:"daily row"},[e("div",{staticClass:"daily-img col-lg-1"},[e("img",{staticClass:"daily-img-item",attrs:{src:a.head}})]),e("div",{staticClass:"daily-name"},[t._v("\n                        "+t._s(a.userName)+"\n                      ")]),e("div",{staticClass:"col-lg-11"},[e("div",{staticClass:"daily-title row"},[t._v("工作内容：")]),e("div",{staticClass:"daily-content"},[t._v("\n                          "+t._s(a.content)+"\n                        ")])])])])],1)}),1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.showAllDaily,expression:"showAllDaily==2"}],staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[e("div",{staticClass:"dateTitle"},[e("span",{staticClass:"dateTitleFont"},[t._v(t._s(t.selectedDay))])]),e("div",{staticClass:"d4"}),e("div",{staticClass:"no-report"},[t._v("该日未提交日报")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.showAllDaily,expression:"showAllDaily==0"}],staticClass:"col-md-7"},[t._m(0),e("div",{staticClass:"col-md-12 pt-4 task-detail"},[e("div",{staticClass:"top-title"},[t._v("\n                  工作内容：\n                ")]),e("el-input",{staticStyle:{"margin-top":"8px",height:"170px!important"},attrs:{type:"textarea"},model:{value:t.todayDaily,callback:function(a){t.todayDaily=a},expression:"todayDaily"}}),e("div",{staticClass:"commit",on:{click:t.submitDailyReport}},[t._v("提交")])],1)]),e("div",{staticClass:"col-md-4  task-list pr-0 pl-0"},[t.calendarflg?e("el-calendar",{attrs:{dailyStatusTaskList:t.reportDaysList},on:{monthChange:t.changeMonth,input:t.dayInput},model:{value:t.calendarValue,callback:function(a){t.calendarValue=a},expression:"calendarValue"}}):t._e()],1)])])])],1)])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bar"},[e("span",[t._v("每日工作总结 & 明日计划汇报")])])}],o=e("abce"),n=o["a"],r=(e("d737"),e("9e86"),e("2877")),d=Object(r["a"])(n,l,s,!1,null,"7ac78e55",null),c=d.exports,u=(e("7378"),e("16b4"),e("346c"),e("1e3b"),e("3a10"),e("87c5"),e("0cb1"),e("751a"));i["default"].prototype.$http=u["a"],new i["default"]({render:t=>t(c)}).$mount("#app")},"9e86":function(t,a,e){"use strict";var i=e("437b"),l=e.n(i);l.a},abce:function(t,a,e){"use strict";(function(t){var i=e("10df"),l=e("ba6c"),s=e("59db");a["a"]={name:"app",components:{Header:i["a"],HorizontalTap:l["a"]},mounted(){this.initEvent(),this.initData()},data(){return{winWidth:window.innerWidth,selectedDay:"",data2:[{name:"执行任务",url:"task-list.html"},{name:"任务单",url:"work-order.html"},{name:"日报任务",url:""}],options:[{value:"1",label:"1小时"},{value:"2",label:"2小时"},{value:"3",label:"3小时"},{value:"4",label:"4小时"},{value:"5",label:"5小时"}],value:"",todayDaily:"",tomorrowDaily:"",calendarValue:"",showAllDaily:0,dailyList:[{id:1,time:"1",name:"朱彦野",today:" 编码人员依据《详细设计报告》的内容，遵循编码规范的要求对设计元素进行编码实现和的计元素进行编码实现和的要求对设计实编码行编的要码实现和的要求对设计行编码实编码",tomorrow:"编码人员依据《详细设计报告》的内容，遵循编码规范的要求对设计元素进行编码实现和的"},{id:2,time:"2",name:"朱彦野",today:"队长",tomorrow:"初级菜鸟"}],reportDaysList:[],calendarflg:!1}},methods:{initEvent:function(){let a=this;a.winWidth=t("body").width(),window.onresize=function(){a.winWidth=t("body").width()}},initData:function(){var t=Object(s["a"])(0);this.selectedDay=t,this.loadReportDays(t),this.loadReport(t)},sizeChange(t){return this.winWidth*t/1920+"px"},submitDailyReport(){let t=this;if(""===t.todayDaily||null===t.todayDaily||void 0===t.todayDaily)return t.$message.error("日报内容不能为空！"),!1;t.showAllDaily=1,t.$http.post("/doproject/dailyreport/sumbit",{teamid:localStorage.getItem("teamId"),content:t.todayDaily},a=>{a.success&&t.loadReportDays(Object(s["a"])(0))})},changeMonth(t){this.reportDaysList=[],this.calendarflg=!1;let a=t+"-01";this.loadReportDays(a)},dayInput(t){if(t>Object(s["a"])(0))return this.$message.error("不能查看今天之后的内容！"),!1;this.loadReport(t)},loadReportDays(t){let a=this;a.$http.post("/doproject/dailyreport/reporteddays",{teamid:localStorage.getItem("teamId"),dateStr:t},t=>{if(console.log(t.data),t.success&&t.data.length>0)for(var e=0;e<t.data.length;e++)a.reportDaysList.push(parseInt(t.data[e].substr(8,2)));a.calendarflg=!0})},loadReport(t){let a=this;a.$http.post("/doproject/dailyreport/detail",{teamid:localStorage.getItem("teamId"),date:t},e=>{e.success&&(e.data.length>0?(a.dailyList=e.data,a.selectedDay=t,a.showAllDaily=1):t!==Object(s["a"])(0)?(a.showAllDaily=2,a.selectedDay=t):a.showAllDaily=0)})}}}}).call(this,e("1157"))},d737:function(t,a,e){"use strict";var i=e("1be2"),l=e.n(i);l.a}});
//# sourceMappingURL=daily-tasks.5037a77b.js.map