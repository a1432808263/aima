(function(t){function e(e){for(var o,r,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)r=s[d],n[r]&&m.push(n[r][0]),n[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);p&&p(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},n={"learning-library":0},i=[];function r(t){return s.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"24e2b1dd"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,o){a=n[t]=[e,o]});e.push(a[2]=o);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(t),i=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");r.type=o,r.request=i,a[1](r)}n[t]=void 0}};var c=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=c;i.push([33,"chunk-vendors","chunk-common"]),a()})({33:function(t,e,a){t.exports=a("cfcd")},"50c0":function(t,e,a){"use strict";var o=a("80ac"),n=a.n(o);n.a},"80ac":function(t,e,a){},"9ec7":function(t,e,a){"use strict";var o=a("c77d"),n=a.n(o);n.a},bd38:function(t,e,a){t.exports=a.p+"img/word.a3faadfb.jpg"},c77d:function(t,e,a){},cfcd:function(t,e,a){"use strict";a.r(e);a("9e1f"),a("450d");var o=a("6ed5"),n=a.n(o),i=a("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container-fluid",staticStyle:{padding:"unset"}},[o("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}})],1),o("div",{staticClass:"tap"},[o("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:3}})],1),t.pdfFlg?o("div",[t.pdfFlg?o("PDF",{attrs:{"pdf-url":t.pdfUrl,"is-contrast":t.pdfIsContrast,"display-id":t.displayId}}):t._e()],1):t._e(),o("div",{staticClass:"col-md-10 col-md-offset-1 mt-6"},[o("el-tabs",{staticClass:"mb-4",attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{name:"project"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-connection"}),t._v(" 项目相关指导材料")]),o("div",{staticClass:"row mb-5"},[o("div",{staticClass:"col-md-12 col-xs-12 pl-6 mt-6"},[o("div",{staticClass:"row"},[o("span",{staticClass:"line"}),o("span",[t._v("学习视频")])]),t.videoList.length>0?o("div",{staticClass:"row mt-6"},t._l(t.videoList,function(e,a){return o("div",{key:a,staticClass:"col-md-3 text-center video-item",on:{click:function(a){return t.gotoVideo(e)}}},[o("img",{staticClass:"video-img",staticStyle:{border:"1px solid #666!important"},style:{height:t.sizeChange(150)},attrs:{src:e.materialImg}}),o("span",{staticClass:"video-name"},[o("a",{staticClass:"font-small"},[t._v(t._s(e.materialName))])]),o("i",{staticClass:"iconfont iconshipinjiaocheng font-bold video-icon"})])}),0):o("div",{staticClass:"row mt-6 text-center"},[o("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("暂无任何学习视频")])]),o("div",{staticClass:"row mt-6"},[o("span",{staticClass:"line"}),o("span",[t._v("文档模板")])]),t.docList.length>0?o("div",{staticClass:"row mt-6"},t._l(t.docList,function(e,n){return o("div",{key:n,staticClass:"col-md-2 text-center mr-6"},[o("img",{staticClass:"video-img pointer",style:{height:t.sizeChange(150)},attrs:{src:a("bd38")},on:{click:function(a){return t.gotoPDF(e)}}}),o("a",{staticClass:"video-name font-small"},[t._v(t._s(e.materialName)),o("i",{directives:[{name:"show",rawName:"v-show",value:e.downIS,expression:"item.downIS"}],staticClass:"el-icon-download font-bold action-icon",staticStyle:{color:"#6612cf","margin-left":"5px"},on:{click:function(a){return t.downLoadOutPut(e)}}})])])}),0):o("div",{staticClass:"row mt-6 text-center"},[o("div",{staticStyle:{height:"50px","line-height":"50px"}},[t._v("暂无任何模板")])])])])]),o("el-tab-pane",{attrs:{name:"all"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-tickets"}),t._v(" 知识点学习材料")]),t._l(t.materialTypes,function(e,a){return o("div",{key:a,staticClass:"row mt-3 mb-3"},[o("div",{staticClass:"col-md-4 col-sm-6 col-xs-12 pull-left pl-4 pr-4"},[o("div",{staticClass:"swiper-container",staticStyle:{height:"296px"},style:{backgroundColor:t.customColor(e.name)}},[o("div",{staticClass:"pic_left pl-6"},[o("h3",{staticClass:"font-bold"},[t._v(t._s(e.name))]),o("p",[t._v(t._s(e.describes))])]),o("img",{attrs:{src:e.imageUrl}})])]),o("div",{staticClass:"col-md-8 col-xs-12 pull-left"},[o("div",{staticClass:"java_tit mb-4",style:{borderTopColor:t.customColor(e.name)}},[o("span",{style:{backgroundColor:t.customColor(e.name)}},[t._v(t._s(e.name)+"教程")])]),t._l(e.materialsDetail,function(a,n){return o("div",{key:n,staticClass:"row pl-4 pr-5 mb-4"},[o("span",{staticClass:"pull-left",style:{color:t.customColor(e.name)}},[t._v("["+t._s(e.name)+"]")]),o("a",{staticClass:"ml-3",on:{click:function(e){return t.gotoSnsMaterial(a)}}},[t._v(t._s(a.materialName))]),o("a",{staticClass:"pull-right font-small",on:{click:function(e){return t.gotoSnsMaterial(a)}}},[t._v("查看详情")])])})],2)])})],2)],1)],1)])},s=[],l=(a("be4f"),a("896a")),c=a.n(l),d=a("10df"),p=a("ba6c"),m=a("3a2d"),u={name:"app",components:{Header:d["a"],HorizontalTap:p["a"],PDF:m["a"]},mounted(){console.log(window.innerWidth),this.loadData()},methods:{loadData(){let t=this;t.projectId=localStorage.getItem("projectId"),t.$http.post("/doproject/materialsInfoByProject",{sourceType:0,projectId:t.projectId},e=>{if(e.success){for(var a=0;a<e.data.length;a++)if(1===e.data[a].materialType){let o=e.data[a];t.getVideoFirstImage(e.data[a].materialUrl).then(function(e){o["materialImg"]=e.data.data,t.videoList.push(o)})}else 0===e.data[a].materialType&&(console.log(e.data[a].materialName),console.log(e.data[a].materialName.indexOf("_")),-1===e.data[a].materialName.indexOf("_")?e.data[a].downIS=!1:e.data[a].downIS=!0,t.docList.push(e.data[a]));t.$http.post("/doproject/materialsInfoByCommunity",{sourceType:1},e=>{console.log(e),t.materialTypes=e.data})}})},customColor(t){return"Java"===t?"#e66b46":"Html5"===t?"#18a966":"#185289"},downLoadOutPut(t){const e=c.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});var a=t.materialUrl.split("/"),o=a[a.length-1].split(".pdf");console.log(o[0]),this.$axios({method:"post",url:"http://www.aimaonline.cn:8085/lying-web/doproject/output/downloadFile",data:{filename:o[0]},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var o=new Blob([a.data]),n=document.createElement("a"),i=window.URL.createObjectURL(o);n.href=i,n.download=t.materialName,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i),setTimeout(()=>{e.close()},1e3)}).catch(t=>{setTimeout(()=>{e.close()},1e3)})},gotoVideo(t){let e=this,a=new Date;a=e.getNowTime(a);let o={learnContent:t.id,operationTime:a,learningState:0};e.$http.post("/doproject/recordLearningTime",o,e=>{e.success&&(localStorage.setItem("materialVideo",t.materialUrl),localStorage.setItem("materialId",t.id),localStorage.setItem("materialName",t.materialName),window.open("video-player.html","_blank"))})},gotoPDF(t){let e=this;if(!0===t.downIS)e.$MessageBox.alert("模板无法在线预览，仅供下载使用，请点击按钮进行下载","提示",{confirmButtonText:"确定"});else{e.pdfFlg=!1,e.pdfOpening=t.id;let a=new Date;a=e.getNowTime(a);let o={learnContent:t.id,operationTime:a,learningState:0};e.$http.post("/doproject/recordLearningTime",o,a=>{a.success&&e.$nextTick(()=>{e.pdfUrl=t.materialUrl,e.pdfFlg=!0})})}},closePdf(){let t=this,e=new Date;e=t.getNowTime(e);let a={learnContent:t.pdfOpening,operationTime:e,learningState:1};t.$http.post("/doproject/recordLearningTime",a,e=>{e.success&&(t.pdfFlg=!1)})},getNowTime(t){var e=t.getFullYear()+"-",a=t.getMonth()+1<10?"0"+(t.getMonth()+1)+"-":t.getMonth()+1+"-",o=t.getDate()<10?"0"+t.getDate()+" ":t.getDate()+" ",n=t.getHours()<10?"0"+t.getHours()+":":t.getHours()+":",i=t.getMinutes()<10?"0"+t.getMinutes()+":":t.getMinutes()+":",r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();let s=e+a+o+n+i+r;return s},getVideoFirstImage(t){let e=this,a=Date.parse(new Date),o="ptime="+a+"&vid="+t+"TkSZYq88An";return o=e.$sha(o),o=o.toLocaleUpperCase(),e.$axios({method:"GET",url:"http://api.polyv.net/v2/video/56c20fd00b/get-image?ptime="+a+"&sign="+o+"&vid="+t,headers:{"Content-Type":"application/json; charset=UTF-8"}})},gotoSnsMaterial(t){let e=this,a=new Date;a=e.getNowTime(a);let o={learnContent:t.materialId,operationTime:a,learningState:0};e.$http.post("/doproject/recordLearningTime",o,e=>{console.log(e),window.open(t.materialUrl+"?"+window.btoa(window.encodeURIComponent("materialId="+t.materialId+"&token="+localStorage.getItem("token"))),"_blank")})},sizeChange(t){return window.innerWidth*t/1344+"px"}},data(){return{activeName:"project",projectId:"",hotSearch:["VUE","SpringMVC","Jquery","SpringBoot"],materialSearch:"",materialTypes:["Java","Web/H5","C++"],videoList:[],docList:[],data2:[{name:"执行任务",url:"task-list.html",type:"_self"},{name:"任务清单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"daily-tasks.html",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_blank"},{name:"成长轨迹",url:"growth-locus.html",type:"_self"}],pdfFlg:!1,pdfUrl:"",pdfIsContrast:!1,displayId:"the-canvas",pdfOpening:"0"}}},f=u,g=(a("50c0"),a("9ec7"),a("2877")),h=Object(g["a"])(f,r,s,!1,null,"73d6e003",null),v=h.exports,y=(a("7378"),a("3a10"),a("16b4"),a("346c"),a("1e3b"),a("87c5"),a("4dcb"),a("751a")),b=a("6337"),w=a("bc3a"),C=a.n(w),_=a("6199"),S=a.n(_);i["default"].prototype.$sha=S.a,i["default"].prototype.$http=y["a"],i["default"].prototype.$snsUrl=b["a"],i["default"].prototype.$axios=C.a,i["default"].prototype.$MessageBox=n.a,new i["default"]({render:t=>t(v)}).$mount("#app")}});
//# sourceMappingURL=learning-library.e3307cc8.js.map