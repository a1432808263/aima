(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],p=0,d=[];p<r.length;p++)i=r[p],s[i]&&d.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},s={"growth-locus":0},n=[];function i(t){return r.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"24e2b1dd"}[t]+".js"}function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,o){a=s[t]=[e,o]});e.push(a[2]=o);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=i(t),n=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+n+")");i.type=o,i.request=n,a[1](i)}s[t]=void 0}};var c=setTimeout(function(){n({type:"timeout",target:l})},12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var u=c;n.push([30,"chunk-vendors","chunk-common"]),a()})({2130:function(t,e,a){},"2c1e":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-fluid",staticStyle:{padding:"unset"}},[a("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}})],1),a("div",{staticClass:"tap"},[a("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:4}})],1),a("div",{staticClass:"row mt-5 "},[t.pdfFineFlg?a("div",[a("i",{staticClass:"el-icon-error close-btn",on:{click:t.closePdf}}),t.pdfFineFlg?a("PDF",{attrs:{"pdf-url":t.pdfFineUrl,"is-contrast":t.pdfFineIsContrast,"display-id":t.displayFineId}}):t._e(),t.pdfMyFlg?a("PDF",{staticStyle:{"margin-left":"50%"},attrs:{"pdf-url":t.pdfMyUrl,"is-contrast":t.pdfMyIsContrast,"display-id":t.displayMyId}}):t._e()],1):t._e(),a("div",{staticClass:"col-md-8 col-md-offset-2 text-center shadow-radius"},[a("div",{staticClass:"col-md-12 col-xs-12 text-center"},[t._m(0),t.classPM&&t.schoolPM&&t.projectPM?a("div",{staticClass:"col-md-7 col-xs-12"},[a("div",{staticClass:"col-md-12 text-center pt-1"},[a("h1",{staticClass:"font-bold project-name"},[t._v(t._s(t.projectName))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"已超过本项目"+t.projectPM+"%的人"}},[a("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.projectPM,color:"rgb(19, 206, 102)"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在本项目中排名"+t._s(t.rankInfo.projectRank)+"/"+t._s(t.rankInfo.projectHeadCount))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"已超过学校内"+t.schoolPM+"%的人"}},[a("el-progress",{staticStyle:{"argin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.schoolPM,color:"#e6a23c"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在学校中排名"+t._s(t.rankInfo.schoolRank)+"/"+t._s(t.rankInfo.schoolHeadCount))])]),a("div",{staticClass:"col-md-4 text-center pingfen-mt"},[a("a",{attrs:{title:"已超过班级内"+t.classPM+"%的人"}},[a("el-progress",{staticStyle:{"margin-left":"5%","margin-right":"5%"},attrs:{type:"circle",percentage:t.classPM,color:"rgb(32, 160, 255)"}})],1),a("span",{staticClass:"col-md-12 mt-3 font-small"},[t._v("你在班级中排名"+t._s(t.rankInfo.classRank)+"/"+t._s(t.rankInfo.classHeadCount))])])]):t._e()])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"mt-7 pl-8 col-xs-12 col-md-offset-2 col-md-8"},[a("el-timeline",t._l(t.activities,function(e,o){return a("el-timeline-item",{key:o,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,placement:"top",timestamp:e.timestamp}},["stage"===e.dotType?a("div",{staticClass:"font-bold font-large",staticStyle:{"margin-top":"-12px"}},[a("div",[a("a",{attrs:{title:"该阶段反馈报告"},on:{click:function(a){return t.goReport(e)}}},[t._v(t._s(e.content)),a("i",{staticClass:"iconwendangmoban iconfont  ml-3",staticStyle:{color:"#6612cf"}})])])]):a("div",{staticStyle:{"margin-top":"-25px"}},[a("div",[t._v("\n              "+t._s(e.content)+"\n              "),0===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"#409eff"}},[t._v("进行中")]):t._e(),-1===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未开始")]):t._e(),1===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(19, 206, 102)"}},[t._v("已完成")]):t._e(),2===e.status?a("span",{staticClass:"task-status",staticStyle:{"background-color":"rgb(255, 73, 73)"}},[t._v("未完成")]):t._e(),!1===e.dotOpen?a("span",{on:{click:function(a){return t.dotOpenClose(e,o)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})]):t._e(),!0===e.dotOpen?a("span",{on:{click:function(a){return t.dotOpenClose(e,o)}}},[a("i",{staticClass:"el-icon-remove-outline"})]):t._e()]),e.dotOpen?a("div",[e.fineMark?a("div",{staticClass:"row pt-4",staticStyle:{"font-size":"13px"}},[a("div",[a("span",[t._v("我的分数："+t._s(e.mark))])]),a("div",[a("span",[t._v("最佳成绩："+t._s(e.fineMarkUserName))]),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("分数："+t._s(e.fineMark))])])]):a("div",{staticClass:"row pt-4"},[e.noDataFlg?t._e():a("div",[a("div",{staticStyle:{"font-size":"13px"}},[e.canDownFlg?a("div",[a("span",[t._v("我的成果物："+t._s(e.outputNameFormat))]),a("a",{attrs:{title:"下载"}},[e.canDownFlg?a("i",{staticClass:"el-icon-download font-bold action-icon",on:{click:function(a){return t.downLoadOutPut(e)}}}):t._e()])]):a("div",[a("span",[t._v("我的成果物：暂无")])]),e.fineUserName?a("div",[a("span",[t._v("最优成果物："+t._s(e.fineOutputNameFormat))]),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.fineUserName))]),a("a",{attrs:{title:"预览"}},[e.canLookFlg?a("i",{staticClass:"iconfont iconliulan action-icon",staticStyle:{"font-size":"13px"},on:{click:function(a){return t.goPdf(e)}}}):t._e()])]):a("div",[a("span",[t._v("最优成果物：暂无")])])])])])]):t._e()])])}),1)],1)])])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-md-5 col-xs-12 text-center"},[o("img",{staticClass:"growth-img",attrs:{src:a("4f9c")}})])}],i=(a("be4f"),a("450d"),a("896a")),r=a.n(i),l=a("10df"),c=a("ba6c"),p=a("3a2d"),u={name:"app",components:{Header:l["a"],HorizontalTap:c["a"],PDF:p["a"]},mounted(){this.loadData()},data(){return{taskList:null,data2:[{name:"执行任务",url:"task-list.html",type:"_self"},{name:"任务清单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"daily-tasks.html",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_self"},{name:"成长轨迹",url:"",type:"_self"}],activities:[],projectName:"",pdfFineFlg:!1,pdfMyFlg:!1,pdfFineUrl:"",pdfMyUrl:"",pdfFineIsContrast:!1,pdfMyIsContrast:!1,displayFineId:"the-canvas",displayMyId:"the-canvas-contrast",rankInfo:null,classPM:null,projectPM:null,schoolPM:null}},methods:{loadData(){let t=this;t.projectName=localStorage.getItem("projectName"),this.$http.post("/doproject/growthTrajectoryInfo",{teamId:localStorage.getItem("teamId")},e=>{console.log(e),e.success&&(t.taskList=e.data,t.formatData())}),t.$http.post("/doproject/rankStatisticsInfo",{teamId:localStorage.getItem("teamId")},e=>{e.success&&(t.rankInfo=e.data,t.classPM=Math.floor(100-t.rankInfo.classRank/t.rankInfo.classHeadCount*100),t.projectPM=Math.floor(100-t.rankInfo.projectRank/t.rankInfo.projectHeadCount*100),t.schoolPM=Math.floor(100-t.rankInfo.schoolRank/t.rankInfo.schoolHeadCount*100))})},formatData(){let t={};this.activities=[];for(var e=0;e<this.taskList.length;e++){t={content:this.taskList[e].stageName,timestamp:"",color:"#FF6600",size:"large",icon:"",dotType:"stage",stageId:this.taskList[e].stageId},this.activities.push(t);for(var a=0;a<this.taskList[e].detail.length;a++)t=this.taskList[e].detail[a],-1===t.status||2===t.status?(this.formatDot(t,"el-icon-close","rgb(255, 73, 73)",""),2===t.status&&(t.dotOpen=!1)):1===t.status?(this.formatDot(t,"el-icon-check","rgb(19, 206, 102)",t.updateTime),t.dotOpen=!1):0===t.status&&(this.formatDot(t,"el-icon-more","#409eff",""),t.dotOpen=!0),this.activities.push(t)}},formatDot(t,e,a,o){t.content=t.stepName,t.timestamp=o,t.size="normal",t.dotType="step",t.outputNameFormat=this.formatOutputName(t.outputName),t.outputNameFormat.length>15&&(t.outputNameFormat=t.outputNameFormat.substr(0,15)+"..."),t.fineOutputNameFormat=this.formatOutputName(t.fineOutputName),t.fineOutputNameFormat.length>15&&(t.fineOutputNameFormat=t.fineOutputNameFormat.substr(0,15)+"..."),t.icon=e,t.color=a,null==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!0,t.canDownFlg=!1):null!==t.fineOutputName&&null==t.outputName?(t.isContrast=!1,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!1):null==t.fineOutputName&&null!==t.outputName?(t.isContrast=!1,t.canLookFlg=!1,t.noDataFlg=!1,t.canDownFlg=!0):null!==t.fineOutputName&&null!==t.outputName&&(t.isContrast=!0,t.canLookFlg=!0,t.noDataFlg=!1,t.canDownFlg=!0)},formatOutputName(t){if(null!==t){let e=t.split("$_$");return t=e[1],t}return""},customColorMethod(t){return t<60?"rgb(19, 206, 102)":t<=89&&t>=60?"#6612cf":"rgb(255, 73, 73)"},goPdf(t){let e=this;this.pdfFineFlg=!1,this.pdfMyFlg=!1,t.isContrast?e.$nextTick(()=>{this.pdfFineUrl="http://139.129.119.220/file/pdffile/"+t.fineOutputName+".pdf",this.pdfMyUrl="http://139.129.119.220/file/pdffile/"+t.outputName+".pdf",this.pdfFineIsContrast=!0,this.pdfMyIsContrast=!0,this.pdfFineFlg=!0,this.pdfMyFlg=!0}):(this.pdfFineUrl="http://139.129.119.220/file/pdffile/"+t.fineOutputName+".pdf",this.pdfFineIsContrast=!1,this.pdfFineFlg=!0)},closePdf(){this.pdfFineFlg=!1,this.pdfMyFlg=!1},downLoadOutPut(t){const e=r.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});this.$axios({method:"post",url:"http://139.129.119.220:8085/lying-web/doproject/output/downloadFile",data:{filename:t.outputName},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var o=new Blob([a.data]),s=document.createElement("a"),n=window.URL.createObjectURL(o);s.href=n,s.download=t.outputName.split("$_$")[1],document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n),setTimeout(()=>{e.close()},1e3)}).catch(t=>{console.log(t),setTimeout(()=>{e.close()},1e3)})},goReport(t){localStorage.setItem("stageId",t.stageId),window.location="stage-report.html"},dotOpenClose(t,e){let a=t,o=!t.dotOpen;a.dotOpen=o,this.$set(this.activities,e,a)}}},d=u,f=(a("666a"),a("7fb5"),a("2877")),m=Object(f["a"])(d,s,n,!1,null,"cc9fb79c",null),g=m.exports,h=(a("7378"),a("3a10"),a("16b4"),a("346c"),a("1e3b"),a("87c5"),a("4dcb"),a("751a")),v=a("bc3a"),y=a.n(v);o["default"].prototype.$http=h["a"],o["default"].prototype.$axios=y.a,new o["default"]({render:t=>t(g)}).$mount("#app")},"2e02":function(t,e,a){},30:function(t,e,a){t.exports=a("2c1e")},"4f9c":function(t,e,a){t.exports=a.p+"img/growth.c572b10a.png"},"666a":function(t,e,a){"use strict";var o=a("2e02"),s=a.n(o);s.a},"7fb5":function(t,e,a){"use strict";var o=a("2130"),s=a.n(o);s.a}});
//# sourceMappingURL=growth-locus.b3893c48.js.map