(function(t){function e(e){for(var l,n,r=e[0],o=e[1],c=e[2],u=0,p=[];u<r.length;u++)n=r[u],i[n]&&p.push(i[n][0]),i[n]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],l=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(l=!1)}l&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var l={},i={"daily-tasks":0},s=[];function n(e){if(l[e])return l[e].exports;var a=l[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(){return Promise.resolve()},n.m=t,n.c=l,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(a,l,function(e){return t[e]}.bind(null,l));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=o;s.push([29,"chunk-vendors","chunk-common"]),a()})({29:function(t,e,a){t.exports=a("833d")},"437b":function(t,e,a){},"794f":function(t,e,a){"use strict";var l=a("bb92"),i=a.n(l);i.a},"833d":function(t,e,a){"use strict";a.r(e);var l=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-fluid",staticStyle:{padding:"0px 0px 0px 0px"}},[a("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}}),a("div",{staticClass:"row tap"},[a("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:2}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"center-block"},[a("div",{staticClass:"row pt-4 mt-3"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showAllDaily,expression:"showAllDaily==1"}],staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[a("div",{staticClass:"dateTitle"},[a("span",{staticClass:"dateTitleFont"},[t._v(t._s(t.selectedDay))])]),a("div",{staticClass:"d4"}),a("el-timeline",{staticStyle:{"margin-top":"20px"}},t._l(t.dailyList,function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.createTime,placement:"top"}},[a("el-card",[a("div",{staticClass:"daily row"},[a("div",{staticClass:"daily-img col-lg-1"},[a("img",{staticClass:"daily-img-item",attrs:{src:e.head}})]),a("div",{staticClass:"daily-name"},[t._v("\n                        "+t._s(e.userName)+"\n                      ")]),a("div",{staticClass:"col-lg-11"},[a("div",{staticClass:"daily-title row"},[t._v("工作内容：")]),a("div",{staticClass:"daily-content"},[t._v("\n                          "+t._s(e.content)+"\n                        ")])])])])],1)}),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.showAllDaily,expression:"showAllDaily==2"}],staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[a("div",{staticClass:"dateTitle"},[a("span",{staticClass:"dateTitleFont"},[t._v(t._s(t.selectedDay))])]),a("div",{staticClass:"d4"}),a("div",{staticClass:"no-report"},[t._v("该日未提交日报")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.showAllDaily,expression:"showAllDaily==0"}],staticClass:"col-md-7"},[t._m(0),a("div",{staticClass:"col-md-12 pt-4 task-detail"},[a("div",{staticClass:"top-title"},[t._v("\n                  工作内容：\n                ")]),a("el-input",{staticStyle:{"margin-top":"8px",height:"170px!important"},attrs:{type:"textarea",maxlength:"200"},model:{value:t.todayDaily,callback:function(e){t.todayDaily=e},expression:"todayDaily"}}),a("div",{staticClass:"commit",on:{click:t.submitDailyReport}},[t._v("提交")])],1)]),a("div",{staticClass:"col-md-4  task-list pr-0 pl-0"},[t.calendarflg?a("el-calendar",{attrs:{dailyStatusTaskList:t.reportDaysList},on:{monthChange:t.changeMonth,input:t.dayInput},model:{value:t.calendarValue,callback:function(e){t.calendarValue=e},expression:"calendarValue"}}):t._e()],1)])])])],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar"},[a("span",[t._v("每日工作总结 & 明日计划汇报")])])}],n=a("abce"),r=n["a"],o=(a("794f"),a("9e86"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"ef49d652",null),d=c.exports,u=(a("7378"),a("16b4"),a("346c"),a("1e3b"),a("3a10"),a("87c5"),a("0cb1"),a("751a"));l["default"].prototype.$http=u["a"],new l["default"]({render:t=>t(d)}).$mount("#app")},"9e86":function(t,e,a){"use strict";var l=a("437b"),i=a.n(l);i.a},abce:function(t,e,a){"use strict";(function(t){var l=a("10df"),i=a("ba6c"),s=a("59db");e["a"]={name:"app",components:{Header:l["a"],HorizontalTap:i["a"]},mounted(){this.initEvent(),this.initData()},data(){return{winWidth:window.innerWidth,selectedDay:"",data2:[{name:"执行任务",url:"task-list.html",type:"_self"},{name:"任务单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_self"},{name:"成长轨迹",url:"growth-locus.html",type:"_self"}],options:[{value:"1",label:"1小时"},{value:"2",label:"2小时"},{value:"3",label:"3小时"},{value:"4",label:"4小时"},{value:"5",label:"5小时"}],value:"",todayDaily:"",tomorrowDaily:"",calendarValue:"",showAllDaily:0,dailyList:[],reportDaysList:[],calendarflg:!1}},methods:{initEvent:function(){let e=this;e.winWidth=t("body").width(),window.onresize=function(){e.winWidth=t("body").width()}},initData:function(){var t=Object(s["a"])(0);this.selectedDay=t,this.loadReportDays(t),this.loadReport(t)},sizeChange(t){return this.winWidth*t/1920+"px"},submitDailyReport(){let t=this;if(""===t.todayDaily||null===t.todayDaily||void 0===t.todayDaily)return t.$alert("日报内容不能为空！","提示",{confirmButtonText:"确定"}),!1;t.$http.post("/doproject/dailyreport/sumbit",{teamid:localStorage.getItem("teamId"),content:t.todayDaily},e=>{e.success&&(t.loadReportDays(Object(s["a"])(0)),t.loadReport(Object(s["a"])(0)))})},changeMonth(t){this.reportDaysList=[],this.calendarflg=!1;let e=t+"-01";this.loadReportDays(e)},dayInput(t){if(t>Object(s["a"])(0))return this.$alert("不能查看今天之后的内容！","提示",{confirmButtonText:"确定"}),!1;this.loadReport(t)},loadReportDays(t){let e=this;e.$http.post("/doproject/dailyreport/reporteddays",{teamid:localStorage.getItem("teamId"),dateStr:t},t=>{if(t.success&&t.data.length>0)for(var a=0;a<t.data.length;a++)e.reportDaysList.push(parseInt(t.data[a].substr(8,2)));e.calendarflg=!0})},loadReport(t){let e=this;e.$http.post("/doproject/dailyreport/detail",{teamid:localStorage.getItem("teamId"),date:t},a=>{a.success&&(a.data.length>0?(e.dailyList=a.data,e.selectedDay=t,e.showAllDaily=1):t!==Object(s["a"])(0)?(e.showAllDaily=2,e.selectedDay=t):e.showAllDaily=0)})}}}}).call(this,a("1157"))},bb92:function(t,e,a){}});
//# sourceMappingURL=daily-tasks.9bebcb78.js.map