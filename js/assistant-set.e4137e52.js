(function(t){function e(e){for(var r,n,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)n=o[m],i[n]&&d.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},i={"assistant-set":0},s=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(){return Promise.resolve()},n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([2,"chunk-vendors","chunk-common"]),a()})({2:function(t,e,a){t.exports=a("6d5f")},2226:function(t,e,a){"use strict";var r=a("37f6"),i=a.n(r);i.a},"37f6":function(t,e,a){},"42a0":function(t,e,a){"use strict";(function(t){var r=a("8af6");e["a"]={name:"app",mounted(){this.loadData()},components:{Header:r["a"]},methods:{loadData(){let e=this;"false"===localStorage.getItem("unreadStatus")?e.noticeIs=!1:e.noticeIs=!0,this.$http.post("/user/queryuserinfo",{},a=>{a.success&&(null!=a.data.userSex&&void 0!==a.data.userSex&&""!==a.data.userSex||(a.data.userSex="0"),t.extend(e.form,a.data))})},changeNickNameFlg(){this.nickNameEditFlg=!this.nickNameEditFlg},saveNickName(){let t=this;if(""===t.nickNameEdit)return t.$alert("修改昵称不能为空！","提示",{confirmButtonText:"确定"}),!1;t.$http.post("/user/modifynickname",{token:localStorage.getItem("token"),userNickname:t.nickNameEdit},e=>{e.success&&(t.$alert("保存成功！","提示",{confirmButtonText:"确定"}),t.nickNameEditFlg=!1,t.form.userNickname=t.nickNameEdit)})},changeEditImgStatus(t){this.editImgFlg="img"!==t||!this.editImgFlg},uploadPhoto(t){let e=this,a=t.target.files[0],r=new FormData;r.append("file",a),this.$http.uploadFile("/user/uploadimg",r,t=>{let a=t.data;if(t.success){var r=new FormData;r.append("id",localStorage.getItem("snsNo")),r.append("avatar",a),e.$alert("上传成功！","提示",{confirmButtonText:"确定"}),e.form.userPhotoUrl=t.data}})},save(t){let e=this;this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;e.$http.post("/user/modifybasicinfo",e.form,t=>{t.success&&e.$alert("保存成功！","提示",{confirmButtonText:"确定"})})})}},data(){return{avatar:"https://gss0.bdstatic.com/-4o3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=62d46c39067b020818c437b303b099b6/d4628535e5dde7119c3d076aabefce1b9c1661ba.jpg",classData:[],enterYearData:[],editImgFlg:!1,nickNameEditFlg:!1,nickNameEdit:"",form:{userNickname:"",userSex:"男",userEmail:"",userRealname:"",userStudentNumber:"",schoolName:"",facultyName:"",majorName:"",userClassId:"",userEnterYear:"",userPhotoUrl:"",qq:"",noticeIs:"false"},rules:{userRealname:[{required:!0,message:"请输入昵称",trigger:"blur"}],userSex:[{required:!0,message:"请选择性别",trigger:"blur"}],userEmail:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],username:[{required:!0,message:"请输入姓名",trigger:"blur"}],userClassId:[{required:!0,message:"请选择班级",trigger:"blur"}],qq:[{required:!0,message:"请输入QQ号",trigger:"blur"}]}}}}}).call(this,a("1157"))},"6d5f":function(t,e,a){"use strict";a.r(e);var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Header",{attrs:{img:"","notice-is":t.noticeIs,school:"Go语言实战抽奖系统"}}),a("div",{staticClass:"container-fluid"},[a("hr",{staticStyle:{border:"none"}}),a("div",{staticClass:"row",staticStyle:{width:"1288px","margin-bottom":"40px"}},[a("div",{staticClass:"col-2 col-md-offset-1 navigation"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center"},[a("img",{class:t.editImgFlg?"img-focus":"",staticStyle:{"margin-top":"23px","border-radius":"50%"},attrs:{src:t.form.userPhotoUrl,width:"103px",height:"103px"},on:{click:function(e){return t.$refs.headPortrait.click()},mouseover:function(e){return t.changeEditImgStatus("img")},mouseout:function(e){return t.changeEditImgStatus("img")}}}),a("input",{ref:"headPortrait",staticStyle:{display:"none"},attrs:{type:"file",name:"fileUpload"},on:{change:function(e){return t.uploadPhoto(e)}}})]),t.editImgFlg?a("span",{staticClass:"edit-img",on:{mouseover:function(e){return t.changeEditImgStatus("span")},mouseout:function(e){return t.changeEditImgStatus("span")}}},[t._v("修改头像")]):t._e(),t.nickNameEditFlg?t._e():a("div",{staticClass:"col-12 text-center",staticStyle:{height:"50px","margin-top":"25px"}},[null===t.form.userNickname?a("span",{staticClass:"nick-name"},[t._v("请设置昵称")]):a("span",{staticClass:"nick-name"},[t._v(t._s(t.form.userNickname))]),a("a",{staticClass:"edit",on:{click:t.changeNickNameFlg}},[t._v("修改")])]),t.nickNameEditFlg?a("div",{staticClass:"col-12 text-center",staticStyle:{height:"50px","margin-top":"25px"}},[a("div",{staticClass:"col-md-12 text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.nickNameEdit,expression:"nickNameEdit"}],staticClass:"nick-name el-input__inner",staticStyle:{width:"80px!important",height:"25px!important"},attrs:{maxlength:"8",type:"text"},domProps:{value:t.nickNameEdit},on:{input:function(e){e.target.composing||(t.nickNameEdit=e.target.value)}}})]),a("div",{staticClass:"col-md-12 text-center"},[a("a",{staticClass:"edit",staticStyle:{"margin-left":"0px"},on:{click:function(e){return t.saveNickName()}}},[t._v("保存")]),a("a",{staticClass:"edit",staticStyle:{color:"rgba(153,153,153,1)!important"},on:{click:t.changeNickNameFlg}},[t._v("取消")])])]):t._e()]),t._m(0)]),a("div",{staticClass:"col-8  person-detail"},[t._m(1),a("div",{staticClass:"row",staticStyle:{"padding-left":"38px","margin-top":"20px"}},[a("h4",{staticClass:"ml-5 xinxi-title"},[t._v("基本信息")]),a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("div",{staticClass:"row mr-3 mt-5"},[a("div",{staticClass:"col-6"},[a("el-form-item",{attrs:{label:"姓名",prop:"userRealname"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.form.userRealname,callback:function(e){t.$set(t.form,"userRealname",e)},expression:"form.userRealname"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"userSex"}},[a("el-radio",{attrs:{label:"0"},model:{value:t.form.userSex,callback:function(e){t.$set(t.form,"userSex",e)},expression:"form.userSex"}},[t._v("男")]),a("el-radio",{attrs:{label:"1"},model:{value:t.form.userSex,callback:function(e){t.$set(t.form,"userSex",e)},expression:"form.userSex"}},[t._v("女")])],1)],1)]),a("h4",{staticClass:"ml-5 xinxi-title"},[t._v("联系方式")]),a("div",{staticClass:"row mt-5 mr-3"},[a("div",{staticClass:"col-6"},[a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{placeholder:"请输入QQ"},model:{value:t.form.qq,callback:function(e){t.$set(t.form,"qq",e)},expression:"form.qq"}})],1)],1),a("div",{staticClass:"col-6"},[a("el-form-item",{attrs:{label:"邮箱",prop:"userEmail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱地址"},model:{value:t.form.userEmail,callback:function(e){t.$set(t.form,"userEmail",e)},expression:"form.userEmail"}})],1)],1)]),a("div",{staticClass:"row mt-4"},[a("a",{staticClass:"center-block btn save-btn",staticStyle:{"padding-top":"12px",color:"white"},on:{click:function(e){return t.save("form")}}},[t._v("保存")])])])],1)])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",staticStyle:{"border-top":"1px solid #EBEBEB"}},[a("div",{staticClass:" text-center",staticStyle:{height:"56px","line-height":"56px"}},[a("div",{staticStyle:{height:"33px",width:"4px",background:"#6612CF",float:"left","margin-top":"10px","border-radius":"2px"}}),a("span",[t._v("个人资料")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"border-bottom":"1px solid #EBEBEB",padding:"unset",height:"56px","line-height":"56px"}},[a("span",{staticClass:"detail-title"},[t._v("个人资料")])])}],n=a("42a0"),o=n["a"],l=(a("e2de"),a("2226"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"069decb2",null),u=c.exports,m=(a("7378"),a("3a10"),a("49f4"),a("87c5"),a("751a"));a("4dcb");r["default"].prototype.$http=m["a"],new r["default"]({render:t=>t(u)}).$mount("#app")},e2de:function(t,e,a){"use strict";var r=a("fbbc"),i=a.n(r);i.a},fbbc:function(t,e,a){}});
//# sourceMappingURL=assistant-set.e4137e52.js.map