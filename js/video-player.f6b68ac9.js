(function(t){function e(e){for(var o,s,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)s=l[d],a[s]&&p.push(a[s][0]),a[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);m&&m(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var r=n[l];0!==a[r]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={"video-player":0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(){return Promise.resolve()},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var m=r;i.push([37,"chunk-vendors","chunk-common"]),n()})({"0f71":function(t,e){t.exports="data:image/png;base64,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"},"27f0":function(t,e,n){"use strict";var o=n("5e6e"),a=n.n(o);a.a},37:function(t,e,n){t.exports=n("6166")},"5e6e":function(t,e,n){},6166:function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container-fluid",staticStyle:{padding:"unset"},attrs:{id:"head_part"}},[o("Header",{attrs:{img:"",school:"Go语言实战抽奖系统"}})],1),o("div",{staticClass:"row pt-3",staticStyle:{"border-top":"1px solid #666"},attrs:{id:"video_part"}},[o("div",{staticClass:"col-xs-12 col-md-9 pt-6 pl-7 pr-0"},[t.showflg?o("div",{staticClass:"pull-right mt-4",staticStyle:{"background-color":"#1e1d1d","border-right":"1px solid #666"},attrs:{id:"vid"}}):t._e()]),o("div",{staticClass:"col-xs-12 col-md-3 pl-0 pr-7 pt-6",staticStyle:{"margin-top":"5px"}},[t._m(0),o("div",{staticClass:"col-xs-12 col-md-12 video-list-bg"},t._l(t.videoList,function(e,n){return o("div",{key:n,staticClass:"row mt-3",class:[e.materialUrl===t.vUrl?"video-selected":"video-bg"],on:{click:function(n){return t.changeVideo(e.materialUrl,e.id,e)}}},[o("i",{staticClass:"el-icon-caret-left video-playing"}),t._m(1,!0),o("div",{staticClass:"col-md-8 pull-left pointer"},[o("div",{staticStyle:{"padding-top":"7%","font-size":"16px"}},[t._v(t._s(e.materialName))]),o("div",{staticClass:"cr-tm",staticStyle:{"padding-top":"3%","font-size":"12px"}},[t._v("2019-06-18")])])])}),0)]),o("div",{staticClass:"pl-7 col-md-10",staticStyle:{"padding-left":"10px","margin-top":"15px"}},[o("span",{staticClass:"material-name font-bold"},[t._v(t._s(t.materialName))])]),o("div",{staticClass:"material-src pl-7 col-md-9"},[t._m(2),t._m(3),o("span",{staticClass:"pull-right"},[o("i",{staticClass:"el-icon-video-camera"}),t._v("播放数: "),o("span",{staticStyle:{color:"#00be06"}},[t._v(t._s(t.vPlayCount))])])])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-xs-12 col-md-8 col-md-offset-2 p-2"},[o("div",{staticClass:"pointer font-large font-bold mt-4 comment-title",attrs:{id:"comment_area"}},[t._v("全部评论 ("+t._s(t.commentList.length)+")")]),o("div",{staticClass:"col-xs-12 col-md-12 p-2 mt-6 mb-6"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.myComment,expression:"myComment"}],staticClass:"el-textarea__inner",staticStyle:{"min-height":"200px"},attrs:{placeholder:"我来说点什么..."},domProps:{value:t.myComment},on:{input:function(e){e.target.composing||(t.myComment=e.target.value)}}}),o("div",{staticClass:"comment-btn pointer",on:{click:t.submitComment}},[o("span",[t._v("发布")])])]),o("div",{staticStyle:{margin:"10px",padding:"10px"}},[0==t.commentList.length?o("p",{staticClass:"text-center"},[o("img",{staticStyle:{width:"100%"},attrs:{src:n("306e")}}),t._v("暂无评论，我来发表第一篇评论！")]):o("div",t._l(t.commentList,function(e,n){return o("div",{key:n},[t._m(4,!0),o("div",{staticClass:"comment col-md-11"},[null===e.commentId||""===e.commentId?o("div",{staticClass:"font-bold"},[t._v("\n              "+t._s(e.discussantName)+" "),o("span",[t._v(t._s(e.commentTime))]),o("div",{staticClass:"pointer",staticStyle:{float:"right","margin-right":"20px"}},[o("a",{on:{click:function(n){return t.showFatherCommentArea(e)}}},[o("i",{staticClass:"icondazhongicon05 iconfont font-bold font-large",style:{color:e.iconColor}}),t._v(" "),o("span",{style:{color:e.iconColor,fontWeight:"300",fontSize:"12px"}},[t._v("回复")])])])]):t._e(),null===e.commentId||""===e.commentId?o("p",{domProps:{innerHTML:t._s(e.content)}},[e.stepName?o("span",[t._v("#"+t._s(e.stepName))]):t._e(),e.materialName?o("span",[t._v("#"+t._s(e.materialName))]):t._e(),t._v("\n              "+t._s(e.content)+"\n            ")]):t._e(),t.commentReplyFlg?o("div",{staticClass:"mt-3 mb-3"},[e.newCommentReply?o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCommentReplyContent,expression:"item.newCommentReplyContent"}],staticClass:"el-textarea__inner",staticStyle:{"min-height":"100px"},attrs:{placeholder:e.place},domProps:{value:e.newCommentReplyContent},on:{input:function(n){n.target.composing||t.$set(e,"newCommentReplyContent",n.target.value)}}}):t._e(),e.newCommentReply?o("div",{staticClass:"new-reply-btn pointer",on:{click:function(n){return t.submitFatherComment(e)}}},[o("span",[t._v("发布")])]):t._e()]):t._e(),e.reply.length>0?o("div",{staticClass:"reply-list"},[o("list",{attrs:{comment:e},on:{submitSonComment:t.submitSonComment}})],1):t._e()])])}),0)])])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-xs-12 font-large font-bold video-list-title",staticStyle:{color:"wheat"}},[t._v("播放列表 "),n("i",{staticClass:"el-icon-video-camera-solid",staticStyle:{"font-size":"20px","padding-top":"2px"}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-md-4 pl-0 pr-0"},[o("img",{staticClass:"video-img",attrs:{src:n("bee5")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pull-left",staticStyle:{"margin-left":"unset"}},[t._v("来源："),n("i",{staticClass:"iconfont iconlogo"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pull-right pointer"},[n("a",{staticStyle:{color:"#ddd"},attrs:{href:"#comment_area"}},[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("评论")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-md-1"},[o("img",{staticStyle:{width:"100%","border-radius":"50%"},attrs:{src:n("0f71")}})])}],s=n("f4b9"),l=s["a"],r=(n("6aba"),n("2877")),c=Object(r["a"])(l,a,i,!1,null,"6bb11b58",null),m=c.exports,d=(n("7378"),n("3a10"),n("16b4"),n("346c"),n("1e3b"),n("87c5"),n("4dcb"),n("751a")),p=n("bc3a"),u=n.n(p),v=n("6199"),g=n.n(v);o["default"].prototype.$sha=g.a,o["default"].prototype.$axios=u.a,o["default"].prototype.$http=d["a"],new o["default"]({render:t=>t(m)}).$mount("#app")},"6aba":function(t,e,n){"use strict";var o=n("7a36"),a=n.n(o);a.a},"6bec":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.comment.reply,function(e,o){return n("div",{key:o,staticClass:"reply"},[n("div",{staticClass:"reply-title"},[n("span",{staticClass:"font-bold"},[t._v(t._s(e.discussantName)+" 回复 "+t._s(t.comment.discussantName)+" "+t._s(e.commentTime))]),n("div",{staticClass:"pointer",staticStyle:{float:"right"}},[n("a",{on:{click:function(n){return t.changeCommenter(e.id,e.discussantName,e)}}},[n("i",{staticClass:"icondazhongicon05 iconfont font-bold font-large",style:{color:e.iconColor}}),t._v(" "),n("span",{style:{color:e.iconColor,fontWeight:"300",fontSize:"12px"}},[t._v("回复")])])])]),n("div",{staticClass:"reply-nr"},[n("div",[e.stepName?n("span",[t._v("#"+t._s(e.stepName))]):t._e(),e.materialName?n("span",[t._v("#"+t._s(e.materialName))]):t._e(),n("div",{domProps:{innerHTML:t._s(e.content)}},[t._v(t._s(e.content))])]),t.flg?n("div",{staticClass:"new-reply"},[e.newReply?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newReplyContent,expression:"reply.newReplyContent"}],staticClass:"el-textarea__inner",staticStyle:{"min-height":"100px"},attrs:{placeholder:e.place},domProps:{value:e.newReplyContent},on:{input:function(n){n.target.composing||t.$set(e,"newReplyContent",n.target.value)}}}):t._e(),e.newReply?n("div",{staticClass:"new-reply-btn pointer",on:{click:function(n){return t.submitSonComment(e)}}},[n("span",[t._v("发布")])]):t._e()]):t._e()]),n("list",{attrs:{comment:e}})],1)}),0)},a=[],i={name:"List",props:{comment:{}},data(){return{flg:!1,newReplyId:"",newReplyName:"",newReplyContent:""}},methods:{changeCommenter(t,e,n){this.flg=!1,null===n.newReply||void 0===n.newReply?(n.newReply=!0,n.place="回复"+e,n.newReplyId=t,n.newReplyName=e,n.newReplyContent=null,n.iconColor="#6612cf"):(n.newReply=!n.newReply,!1===n.newReply?n.iconColor="black":n.iconColor="#6612cf"),this.flg=!0},submitSonComment(t){this.$emit("submitSonComment",t)}}},s=i,l=(n("27f0"),n("2877")),r=Object(l["a"])(s,o,a,!1,null,null,null);e["a"]=r.exports},"7a36":function(t,e,n){},f4b9:function(t,e,n){"use strict";(function(t){var o=n("10df"),a=n("6bec");n("59db");e["a"]={name:"app",components:{Header:o["a"],List:a["a"]},mounted(){t("#video_part").height(document.documentElement.clientHeight-t("#head_part").height()-11),t("#video_part").css({"background-color":"#292929"}),this.initData()},data(){return{vdHeight:"1",bdHeight:"",commentReplyFlg:!1,marginTop:"",marteriaId:"",vUrl:"",vPlayer:null,vPlayCount:0,showflg:!0,videoList:[],docList:[],myComment:"",commentList:[],materialName:""}},methods:{initData:function(){let t=this;t.materialId=localStorage.getItem("materialId"),t.materialName=localStorage.getItem("materialName"),this.vUrl=localStorage.getItem("materialVideo"),this.showflg=!0,t.vPlayer=polyvObject("#vid").videoPlayer({wrap:"#vid",width:.698*document.documentElement.clientWidth,vid:t.vUrl}),t.getVideoPlayCount(t.vUrl),console.log(t.vPlayCount),t.projectId=localStorage.getItem("projectId"),t.$http.post("/doproject/materialsInfoByProject",{sourceType:0,projectId:t.projectId},e=>{if(e.success)for(var n=0;n<e.data.length;n++)1===e.data[n].materialType?t.videoList.push(e.data[n]):0===e.data[n].materialType&&t.docList.push(e.data[n])}),t.$http.post("/doproject/discussionTreeInfo",{projectId:localStorage.getItem("projectId")},e=>{e.success&&(t.commentList=e.data)})},loadDisscussionTree(){let t=this;t.$http.post("/doproject/discussionTreeInfo",{projectId:localStorage.getItem("projectId")},e=>{e.success&&(t.commentList=e.data)})},changeVideo(t,e,n){let o=this;o.showflg=!1,o.$nextTick(()=>{o.vUrl=t,o.materialId=e,o.materialName=n.materialName,o.showflg=!0,setTimeout(function(){o.vPlayer=polyvObject("#vid").videoPlayer({wrap:"#vid",width:.698*document.documentElement.clientWidth,vid:o.vUrl}),o.getVideoPlayCount(o.vUrl)})})},submitComment(){let t=this,e=new Date;e=t.getNowTime(e),t.$http.post("/doproject/submitDiscussion",{commentTime:e,content:t.myComment,projectId:localStorage.getItem("projectId"),commentId:"",materialId:t.materialId},e=>{t.$message("发布成功"),t.myComment=null,t.loadDisscussionTree()})},submitSonComment(t){let e=this,n=new Date;n=e.getNowTime(n),e.$http.post("/doproject/submitDiscussion",{commentTime:n,content:t.newReplyContent,projectId:localStorage.getItem("projectId"),commentId:t.commentId,materialId:e.materialId},t=>{e.$message("发布成功"),e.loadDisscussionTree()})},submitFatherComment(t){let e=this,n=new Date;n=e.getNowTime(n),e.$http.post("/doproject/submitDiscussion",{commentTime:n,content:t.newCommentReplyContent,projectId:localStorage.getItem("projectId"),commentId:t.id,materialId:e.materialId},t=>{e.$message("发布成功"),e.loadDisscussionTree()})},showFatherCommentArea(t){this.commentReplyFlg=!1,null===t.newCommentReply||void 0===t.newCommentReply?(t.newCommentReply=!0,t.place="回复"+t.discussantName,t.newCommentReplyContent=null,t.iconColor="#6612cf"):(t.newCommentReply=!t.newCommentReply,!1===t.newCommentReply?t.iconColor="black":t.iconColor="#6612cf"),this.commentReplyFlg=!0},getNowTime(t){var e=t.getFullYear()+"-",n=t.getMonth()+1<10?"0"+(t.getMonth()+1)+"-":t.getMonth()+1+"-",o=t.getDate()<10?"0"+t.getDate()+" ":t.getDate()+" ",a=t.getHours()<10?"0"+t.getHours()+":":t.getHours()+":",i=t.getMinutes()<10?"0"+t.getMinutes()+":":t.getMinutes()+":",s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();let l=e+n+o+a+i+s;return l},getVideoPlayCount(t){let e=this,n=Date.parse(new Date);var o="dr=this_year&period=monthly&ptime="+n+"&vid="+t+"TkSZYq88An";o=e.$sha(o),o=o.toLocaleUpperCase(),e.$axios({method:"GET",url:"http://api.polyv.net/v2/videoview/56c20fd00b?ptime="+n+"&sign="+o+"&dr=this_year&period=monthly&vid="+t,headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(t=>{let n=0;for(var o=0;o<t.data.data.length;o++)n+=t.data.data[o].pcVideoView;e.vPlayCount=n})}}}}).call(this,n("1157"))}});
//# sourceMappingURL=video-player.f6b68ac9.js.map