(function(t){function e(e){for(var s,n,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)n=l[d],i[n]&&p.push(i[n][0]),i[n]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);m&&m(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var r=a[n];0!==i[r]&&(s=!1)}s&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={"task-list":0},o=[];function n(t){return l.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"24e2b1dd"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,s){a=i[t]=[e,s]});e.push(a[2]=s);var o,r=document.createElement("script");r.charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.src=n(t),o=function(e){r.onerror=r.onload=null,clearTimeout(c);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+s+": "+o+")");n.type=s,n.request=o,a[1](n)}i[t]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:r})},12e4);r.onerror=r.onload=o,document.head.appendChild(r)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var m=c;o.push([33,"chunk-vendors","chunk-common"]),a()})({"01e9":function(t,e,a){},"0615":function(t,e,a){},"1fde":function(t,e,a){t.exports=a.p+"img/banner1.da986a96.png"},"2c4f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.comment.reply,function(e,s){return a("div",{key:s,staticClass:"reply"},[a("b",[t._v(t._s(e.discussantName)+"  回复  "+t._s(t.comment.discussantName)),a("span",[t._v(t._s(e.commentTime))])]),e.stepName?a("span",{staticStyle:{color:"#6612cf"}},[t._v("#"+t._s(e.stepName))]):t._e(),e.materialName?a("span",{staticStyle:{color:"#6612cf"}},[t._v("#"+t._s(e.materialName))]):t._e(),a("p",{domProps:{innerHTML:t._s(e.content)},on:{click:function(a){return t.changeComment(e.id,e.discussantName)}}},[t._v("\n      "+t._s(e.content))]),a("list",{attrs:{comment:e},on:{changeCommenter:t.changeComment}})],1)}),0)},i=[],o={name:"List",props:{comment:{}},methods:{changeComment(t,e){this.$emit("changeCommenter",t,e)}}},n=o,l=a("2877"),r=Object(l["a"])(n,s,i,!1,null,null,null);e["a"]=r.exports},"2e6c":function(t,e,a){"use strict";var s=a("c83e"),i=a.n(s);i.a},33:function(t,e,a){t.exports=a("ad1d")},"4db7":function(t,e,a){"use strict";var s=a("d785"),i=a.n(s);i.a},"565f":function(t,e,a){"use strict";var s=a("0615"),i=a.n(s);i.a},"78ec":function(t,e,a){t.exports=a.p+"img/top.71eaa15c.jpg"},"888e":function(t,e,a){},"92f3":function(t,e,a){"use strict";var s=a("01e9"),i=a.n(s);i.a},ad1d:function(t,e,a){"use strict";a.r(e);var s,i=a("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"background-color":"#f8f8f8"},attrs:{id:"app"}},[s("div",{staticClass:"container-fluid",staticStyle:{padding:"0px 0px 0px 0px"}},[s("Header",{attrs:{noticeIs:t.noticeIs,img:"",school:"Go语言实战抽奖系统"}}),s("div",{staticClass:"tap"},[s("HorizontalTap",{staticClass:"center",staticStyle:{"padding-left":"100px"},attrs:{data:t.data2,active:0}})],1)],1),s("div",{staticClass:"container2 col-md-offset-1 col-md-2",staticStyle:{"margin-top":"40px"}},[s("div",{staticClass:"fontStep"},[t._v("开发阶段和任务")]),s("transition",{attrs:{name:"fade"}},[t.show?s("TeamStepList",{attrs:{data:t.stepData,"expand-id":t.currentStageId,"active-id":t.currentStepId},on:{activeItem:t.activeItemList}}):t._e()],1)],1),s("div",{staticClass:"container1 col-md-8",staticStyle:{"margin-top":"40px","margin-left":"15px","margin-right":"15px"}},[s("div",{staticStyle:{height:"300px"}},[s("div",{staticClass:"container-fluid"},[t._m(0),t.stepInfo&&0===t.stepInfo.category?s("div",{staticClass:"left col-lg-5",staticStyle:{width:"50%"}},[s("p",{staticClass:"xmname"},[t._v(t._s(t.projectName))]),s("div",{staticStyle:{border:"1px dashed rgba(182, 195, 214, .6)","min-height":"250px"}},[s("div",{staticClass:"stepInfoContent",staticStyle:{"margin-top":"10px"}},[t._m(1),s("span",{directives:[{name:"show",rawName:"v-show",value:t.stepInfo.description,expression:"stepInfo.description"}],staticStyle:{color:"#666666"}},[t._v("\n              "+t._s(t.stepInfo.description)+"\n            ")])]),s("div",{staticClass:"stepInfoContent"},[t._m(2),s("span",{directives:[{name:"show",rawName:"v-show",value:t.stepInfo.purpose,expression:"stepInfo.purpose"}],staticStyle:{color:"#666666"}},[t._v("\n              "+t._s(t.stepInfo.purpose)+"\n            ")])]),s("div",{staticClass:"stepInfoContent"},[t._m(3),s("span",{directives:[{name:"show",rawName:"v-show",value:t.stepInfo.required,expression:"stepInfo.required"}],staticStyle:{color:"#666666"}},[t._v("\n              "+t._s(t.stepInfo.required)+"\n                "),s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.templateName[0],expression:"templateName[0]!==''"}]},[t._v("请根据\n                  "),t._l(t.templateName,function(e,a){return s("a",{key:a,staticClass:"ml-2",staticStyle:{color:"#6715CE",cursor:"pointer"},on:{click:function(a){return t.downloadTemplate(e)}}},[t._v(t._s(e.split("$_$")[1]))])}),t._v("上传成果物\n                ")],2)])])])]):t._e(),t.stepInfo&&1===t.stepInfo.category?s("div",{staticClass:"left col-lg-5",staticStyle:{width:"50%","text-align":"center"}},[s("div",{staticClass:"testBox"},[s("p",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.stepInfo.description))]),s("p",{staticStyle:{"text-align":"left"}},[t._v(t._s(t.stepInfo.required))]),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.stepInfo.status,expression:"stepInfo.status === 2"}],staticStyle:{margin:"auto",width:"300px",height:"300px"},attrs:{id:"myChart"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:2===t.stepInfo.status,expression:"stepInfo.status === 2"}],staticStyle:{"font-size":"20px"}},[t._v("当前排名："+t._s(t.orderNum))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.stepInfo.status,expression:"stepInfo.status === 1"}],staticClass:"mt-3 text-center"},[s("el-button",{attrs:{type:"primary"},on:{click:t.answerPage}},[t._v("调查评测")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:-1===t.stepInfo.status,expression:"stepInfo.status === -1"}],staticClass:"mt-3 text-center"},[s("el-button",{attrs:{type:"primary",disabled:"disabled"}},[t._v("暂未开始")])],1)]):t._e(),t.stepInfo&&2===t.stepInfo.category?s("div",{staticClass:"left col-lg-5",staticStyle:{width:"50%"}},[t._m(4),t._m(5),s("div",{staticClass:"mt-3"},[s("i",{staticClass:"iconfont iconrenwuyaoqiu mr-2"}),s("span",{staticStyle:{"font-family":"inherit","font-weight":"800","line-height":"1.1",color:"inherit"}},[t._v("任务要求：")]),s("p",{staticClass:"ml-4"},[t._v(" "+t._s(t.stepInfo.description))])]),t._m(6),s("div",{staticClass:"mt-3 text-center"},[s("el-button",{attrs:{type:"primary"}},[t._v("去编程")])],1)]):t._e(),s("div",{staticClass:"left col-lg-1 col-sm-1 col-md-1",staticStyle:{width:"10%","text-align":"center"}},[s("img",{staticStyle:{height:"60px",width:"60px"},attrs:{src:a("78ec")}}),s("p",{staticStyle:{"font-size":"40px",color:"#95aac9"}},[t._v(t._s(t.no))]),s("p",{staticStyle:{"font-size":"10px",color:"#6715CE"}},[t._v("已击败"+t._s(t.noFail)+"人")])]),s("div",{staticClass:"left col-lg-1 col-sm-1 col-md-1",staticStyle:{width:"10%","text-align":"center","margin-top":"115px","padding-right":"0px"}},[s("a",{staticStyle:{"font-size":"10px",color:"red"},attrs:{title:"联系助教",href:t.href}},[s("i",{staticClass:"iconfont iconzaixiankefu mr-2",staticStyle:{width:"10px",height:"10px"}}),t._v("联系助教")])])])])]),s("div",{staticClass:"container1",class:!0===t.showEditor?"col-md-8":"col-md-5",staticStyle:{"margin-left":"15px","margin-right":"5px"}},[s("div",{staticStyle:{height:"600px"}},[s("div",{staticClass:"container-fluid box"},[t._m(7),t.stepInfo?s("div",{staticClass:"commentAll"},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.stepInfo.status,expression:"stepInfo.status === 1"}],staticClass:"reviewArea clearfix",style:0!==t.fileList.length?"height:0px":""},[s("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.handleChange,limit:1,"before-remove":t.beforeRemove,"before-upload":t.beforeAvatarUpload,"on-exceed":t.handleExceed,"file-list":t.fileList}},[s("el-button",{staticStyle:{float:"right","margin-top":"-65px"},style:0!==t.fileList.length?"display:none":"",attrs:{disabled:0!==t.fileList.length,type:"primary"}},[t._v("选择文件\n                ")])],1),0!==t.fileList.length?s("a",{staticClass:"plBtn",on:{click:t.upLoad}},[t._v("上传成果物")]):t._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:2===t.stepInfo.status||3===t.stepInfo.status,expression:"stepInfo.status === 2 || stepInfo.status === 3"}],staticClass:"mt-15 xzwj"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.seeRightAnswer(t.stepInfo.answer)}}},[t._v("查看优秀答案")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:-1===t.stepInfo.status,expression:"stepInfo.status === -1"}],staticClass:"mt-15 xzwj"},[s("el-button",{attrs:{type:"primary",disabled:"disabled"}},[t._v("阶段未开始")])],1),s("div",{staticClass:"comment-show"},[s("div",{staticClass:"comment-show-con clearfix"},[s("div",{staticClass:"comment-show-con-img pull-left"}),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isReviewData,expression:"isReviewData==true"}],staticClass:"comment-show-con-list pull-left clearfix",staticStyle:{overflow:"auto","overflow-x":"hidden",height:"500px"}},t._l(t.commentData,function(e,a){return s("div",{key:a,staticClass:"commentItem"},[s("div",{staticClass:"pl-text clearfix",staticStyle:{"padding-top":"10px"}},[s("span",{staticClass:"my-pl-con",staticStyle:{"font-size":"16px",color:"#6612CF"}},[t._v(" 上传成果物名称: ")]),s("a",{staticClass:"comment-size-name",staticStyle:{"font-size":"16px"},on:{click:function(a){return t.download(e.name)}}},[t._v(t._s(e.name.split("$_$")[1]))]),s("span",{staticClass:"date-dz-left pull-right comment-time"},[t._v(t._s(e.uploadDate))])]),t._m(8,!0),s("div",{staticClass:"hf-list-con"},[s("div",{staticClass:"all-pl-con"},[s("div",{staticClass:"pl-text hfpl-text clearfix"},[s("a",{directives:[{name:"show",rawName:"v-show",value:"CODE_DUPLICATION"==e.commentCode,expression:"obj.commentCode=='CODE_DUPLICATION'"}],staticClass:"comment-size-name",attrs:{href:"#"}},[t._v(" 文档查重 : ")]),s("a",{directives:[{name:"show",rawName:"v-show",value:"CODE_STYLE"==e.commentCode,expression:"obj.commentCode=='CODE_STYLE'"}],staticClass:"comment-size-name",attrs:{href:"#"}},[t._v(" 代码规范检查 : ")]),s("a",{directives:[{name:"show",rawName:"v-show",value:"CODE_LOGIC"==e.commentCode,expression:"obj.commentCode=='CODE_LOGIC'"}],staticClass:"comment-size-name",attrs:{href:"#"}},[t._v(" 代码逻辑检查 : ")]),s("a",{directives:[{name:"show",rawName:"v-show",value:"ASSISTANT_COMMENT"==e.commentCode,expression:"obj.commentCode=='ASSISTANT_COMMENT'"}],staticClass:"comment-size-name",attrs:{href:"#"}},[t._v(" 助教点评 : ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"obj.status==1"}],staticClass:"my-pl-con",staticStyle:{color:"#02C365"}},[t._v("已通过")]),s("span",{directives:[{name:"show",rawName:"v-show",value:-1==e.status,expression:"obj.status==-1"}],staticClass:"my-pl-con",staticStyle:{color:"rgba(255,76,85,1)"}},[t._v("未通过")]),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"obj.status==0"}],staticClass:"my-pl-con",staticStyle:{color:"#FF9600"}},[t._v("未点评")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.status,expression:"obj.status!=0"}],staticClass:"date-dz-pl pl-hf hf-con-block pull-right",staticStyle:{"line-height":"0"},attrs:{type:"text"},on:{click:function(a){return t.showDetails(e)}}},[t._v("查看详情")])],1)])])])}),0),s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.commentData.length,expression:"commentData.length === 0"}],staticStyle:{"text-align":"center"}},[s("span",[t._v("暂无上传的成果物")])])])])]):t._e()])])]),s("div",{staticClass:"container1",class:!0===t.showEditor?"col-md-10 col-md-offset-1":"col-md-3",style:!0===t.showEditor?"":"margin-left: 5px",attrs:{id:"commentAdd"}},[s("div",{staticStyle:{"min-height":"600px"}},[s("div",{staticClass:"container-fluid"},[s("h4",{staticClass:"xm-left-column-label"},[s("span"),t._v("问答&讨论"),s("a",{staticStyle:{cursor:"pointer"},attrs:{title:t.messageLage}},[s("i",{class:!0===t.showEditor?"el-icon-remove":"el-icon-circle-plus",staticStyle:{"margin-left":"20px",color:"#6612cf"},on:{click:t.showEditorComment}})])]),s("a",{staticStyle:{"font-size":"14px",color:"rgb(102, 18, 207)","margin-top":"-35px",float:"right"},attrs:{href:t.groupLinks}},[t._v("查看项目的更多评论！")]),s("div",{staticClass:"commentAll",staticStyle:{margin:"10px",padding:"10px"}},[0==t.comment.length?s("p",[t._v("暂无评论，我来发表第一篇评论！")]):s("div",{staticClass:"commentContent",attrs:{id:"commentContent"}},t._l(t.comment,function(e,a){return s("div",{key:a,staticClass:"comment"},[s("div",{staticClass:"comment"},[null===e.commentId||""===e.commentId?s("b",[t._v(t._s(e.discussantName)),s("span",[t._v(t._s(e.commentTime))])]):t._e(),e.stepName?s("span",{staticStyle:{color:"#6612cf"}},[t._v("#"+t._s(e.stepName))]):t._e(),e.materialName?s("span",{staticStyle:{color:"#6612cf"}},[t._v("#"+t._s(e.materialName))]):t._e(),null===e.commentId||""===e.commentId?s("p",{domProps:{innerHTML:t._s(e.content)},on:{click:function(a){return t.changeCommenter(e.id,e.discussantName)}}},[t._v("\n                    "+t._s(e.content)+"\n                  ")]):t._e(),s("list",{attrs:{comment:e},on:{changeCommenter:t.changeCommenter}})],1)])}),0)]),s("div",{staticStyle:{"text-align":"right"}},[s("textarea",{directives:[{name:"show",rawName:"v-show",value:!t.showEditor,expression:"!showEditor"},{name:"model",rawName:"v-model",value:t.commentAddData,expression:"commentAddData"}],staticClass:"content comment-input",attrs:{placeholder:t.place},domProps:{value:t.commentAddData},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.textareaFocus(e)},input:function(e){e.target.composing||(t.commentAddData=e.target.value)}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showEditor&&"请输入要发表的内容"!==t.place,expression:"showEditor && place!== '请输入要发表的内容'"}],staticStyle:{float:"left"}},[t._v(t._s(t.place)),s("span",{staticStyle:{color:"crimson","margin-left":"20px",cursor:"pointer"},on:{click:t.textareaFocus}},[t._v("（取消）")])]),s("Editor",{directives:[{name:"show",rawName:"v-show",value:t.showEditor,expression:"showEditor"}],model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}}),s("el-button",{style:!0===t.showEditor?"margin-top: 65px":"margin-top: 5px",attrs:{type:"primary"},on:{click:t.addCommentArea}},[t._v("发表")])],1)])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.pdfFineFlg,expression:"pdfFineFlg"}]},[s("i",{staticClass:"el-icon-error close-btn-pdf",on:{click:t.closePdf}}),t.pdfFineFlg?s("PDF",{attrs:{"pdf-url":t.pdfFineUrl,"is-contrast":t.pdfFineIsContrast,"display-id":t.displayFineId}}):t._e(),t.pdfMyFlg?s("PDF",{staticStyle:{"margin-left":"50%"},attrs:{"pdf-url":t.pdfMyUrl,"is-contrast":t.pdfFineIsContrast,"display-id":t.displayMyId}}):t._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCheck,expression:"showCheck"}],staticClass:"showCheck"},[s("i",{staticClass:"el-icon-error close-btn",staticStyle:{cursor:"pointer"},on:{click:t.close}}),s("div",{staticStyle:{"margin-top":"200px","font-size":"20px",color:"cornsilk"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.machine,expression:"machine"}]},[t._v(t._s(t.machine)+"结果")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.htmlShow,expression:"htmlShow"}]},[s("iframe",{staticClass:"frame",staticStyle:{height:"600px",width:"60%","background-color":"white",padding:"20px","margin-top":"52px"},attrs:{src:t.urlHtml,scrolling:"auto",frameborder:"0"}})]),s("el-table",{directives:[{name:"show",rawName:"v-show",value:!t.htmlShow,expression:"!htmlShow"}],staticStyle:{width:"60%",margin:"20%","text-align":"center","margin-top":"20px","border-radius":"5px"},attrs:{data:t.tableData,stripe:"",border:"",height:"500","show-header":"","highlight-current-row":"","header-cell-style":{"border-bottom":"solid 1px #d2d3da",color:"white","background-color":"#999"}}},[s("el-table-column",{attrs:{type:"index",align:"center",width:"50"}}),s("el-table-column",{attrs:{prop:"fileName",label:"文件",align:"center",width:"350"}}),s("el-table-column",{attrs:{prop:"error",label:"错误",align:"center"}})],1)],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"left col-lg-5",staticStyle:{width:"40%"}},[s("img",{staticStyle:{height:"300px",width:"100%"},attrs:{src:a("1fde")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"xm-left-column-label"},[a("span"),t._v("任务描述：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"xm-left-column-label"},[a("span"),t._v("任务目的：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"xm-left-column-label"},[a("span"),t._v("任务要求：")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i",{staticClass:"iconfont iconrenwumingcheng mr-2"}),a("span",{staticStyle:{"font-family":"inherit","font-weight":"800","line-height":"1.1",color:"inherit"}},[t._v("任务名称：")]),a("span",[t._v("编码与调试")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("i",{staticClass:"iconfont iconrenwumiaoshu mr-2"}),a("span",{staticStyle:{"font-family":"inherit","font-weight":"800","line-height":"1.1",color:"inherit"}},[t._v("任务描述：")]),a("p",{staticClass:"ml-4"},[t._v("编码人员依据《详细设计报告》的内容，遵循编码规范的要求对设计元素进行编码实现和调试")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3"},[a("i",{staticClass:"iconfont iconshipinjiaocheng mr-2"}),a("span",{staticStyle:{"font-family":"inherit","font-weight":"800","line-height":"1.1",color:"inherit"}},[t._v("视频教程：")]),a("h5",[t._v("编程联系")]),a("ul",{staticStyle:{"list-style-type":"decimal"}},[a("li",{staticStyle:{color:"green"}},[a("span",[t._v("全局样式")]),a("i",{staticClass:"el-icon-circle-check ml-3"})]),a("li",{staticStyle:{color:"green"}},[a("span",[t._v("强调内容")]),a("i",{staticClass:"el-icon-circle-check ml-3"})]),a("li",[a("span",[t._v("无序列表、有序列表")]),a("i",{staticClass:"el-icon-circle-check ml-3"})]),a("li",[a("span",[t._v("弹出框--弹出框增加过渡动画效果")]),a("i",{staticClass:"el-icon-circle-check ml-3"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"xm-left-column-label",staticStyle:{width:"80%"}},[a("span"),t._v("成果物及点评")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"date-dz"},[a("div",{staticClass:"date-dz-right pull-right comment-pl-block"})])}],l=a("d72b"),r=l["a"],c=(a("92f3"),a("565f"),a("b6e4"),a("2877")),d=Object(c["a"])(r,o,n,!1,null,"1216adae",null),m=d.exports,p=(a("7378"),a("16b4"),a("346c"),a("1e3b"),a("3a10"),a("87c5"),a("0cb1"),a("751a")),h=a("bc3a"),u=a.n(h),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"pdfContent",attrs:{id:"container"}},[a("button",{staticStyle:{position:"absolute"},on:{click:t.close}},[t._v("关闭")]),a("canvas",{attrs:{id:"the-canvas"}}),t.pdfDoc?a("div",{staticClass:"foot"},[t.pageNum>1?a("button",{staticClass:"left",on:{click:t.onPrevPage}},[t._v("上一页")]):t._e(),t.pageNum<t.pdfDoc.numPages?a("button",{staticClass:"right",on:{click:t.onNextPage}},[t._v("下一页")]):t._e()]):t._e()])},g=[],v=a("9511"),w=a.n(v),y={name:"pdf",data(){return{pdfDoc:null,pageNum:1,pageRendering:!1,pageNumPending:null,scale:1}},methods:{showPDF(t){let e=this;w.a.getDocument(t).then(function(t){e.pdfDoc=t,e.renderPage(1)})},renderPage(t){this.pageRendering=!0;let e=this;this.pdfDoc.getPage(t).then(function(t){var a=t.getViewport(e.scale);let s=document.getElementById("the-canvas");s.height=a.height,s.width=a.width;var i={canvasContext:s.getContext("2d"),viewport:a},o=t.render(i);o.promise.then(function(){e.pageRendering=!1,null!==e.pageNumPending&&(this.renderPage(e.pageNumPending),e.pageNumPending=null)})})},queueRenderPage(t){this.pageRendering?this.pageNumPending=t:this.renderPage(t)},onPrevPage(){this.pageNum<=1||(this.pageNum--,this.queueRenderPage(this.pageNum))},onNextPage(){this.pageNum>=this.pdfDoc.numPages||(this.pageNum++,this.queueRenderPage(this.pageNum))},hideContent(){this.$refs.pdfContent.style.display="block"},close(){this.$refs.pdfContent.style.display="none"}}},C=y,_=(a("2e6c"),Object(c["a"])(C,f,g,!1,null,"a75f6eba",null)),b=_.exports,S={install(t,e){if(!s){const e=t.extend(b);s=(new e).$mount(),document.body.appendChild(s.$el)}t.prototype.$showPDF=function(t){s.showPDF(t)},t.prototype.$hideContent=function(){s.hideContent()}}},x=a("313e"),I=a.n(x),D=a("e112");i["default"].prototype.$Editor=D["a"],i["default"].prototype.$echarts=I.a,i["default"].prototype.$axios=u.a,i["default"].use(S),i["default"].prototype.$http=p["a"],new i["default"]({el:"#app",render:t=>t(m)}).$mount("#app")},b6e4:function(t,e,a){"use strict";var s=a("888e"),i=a.n(s);i.a},c83e:function(t,e,a){},d72b:function(t,e,a){"use strict";(function(t){a("be4f"),a("450d");var s=a("896a"),i=a.n(s),o=a("10df"),n=a("ba6c"),l=a("8668"),r=a("e112"),c=a("2c4f"),d=a("2b0e"),m=a("3a2d");e["a"]={name:"app",components:{Header:o["a"],HorizontalTap:n["a"],Editor:r["a"],TeamStepList:l["a"],List:c["a"],PDF:m["a"]},mounted(){this.initEvent(),this.initData()},data(){return{doUpload:"/api/up/file",pppss:{srid:""},winWidth:window.innerWidth,data2:[{name:"执行任务",url:"",type:"_self"},{name:"任务单",url:"work-order.html",type:"_self"},{name:"日报任务",url:"daily-tasks.html",type:"_self"},{name:"相关资料",url:"learning-library.html",type:"_self"},{name:"成长轨迹",url:"growth-locus.html",type:"_self"}],data3:[{name:"成果物点评"}],currentStageId:-1,currentStepId:-1,taskData:[],stepData:null,commentContent:"",isShow:!1,showTapName:"成果物点评",isReviewData:!0,state:1,appointListData:[],isTeamLeader:0,memberStatusData:[],stepInfo:null,teamId:"",message:"",evaluates:"",commentData:[],files:{},fileName:"暂未上传文件",answerShow:!1,paperInfo:{},paperId:"",starttime:"",answer:{},answerLog:"",problemidLog:"",timeLimit:0,d:"",h:"",m:"",s:"",document:"",listTotal:[],listResult:[],orderNum:"暂无排名",templateName:[],show:!0,uploadprogress:0,contEnclosure:{},fileList:[],comment:[],commentAddData:"",article:{content:""},showEditor:!1,href:"",commentId:null,place:"请输入要发表的内容",messageLage:"放大，使用富文本进行发表",no:"",noFail:"",projectName:"",groupLinks:"",tableData:[],showCheck:!1,machine:"",noticeIs:!1,htmlShow:!0,urlHtml:"",pdfFineFlg:!1,pdfMyFlg:!1,pdfFineUrl:"",pdfMyUrl:"",pdfFineIsContrast:!1,displayFineId:"the-canvas",displayMyId:"the-canvas-contrast"}},methods:{initEvent:function(){let e=this;"false"===localStorage.getItem("unreadStatus")?e.noticeIs=!1:e.noticeIs=!0,e.winWidth=t("body").width(),window.onresize=function(){e.winWidth=t("body").width()}},initData:function(){this.teamId=localStorage.getItem("teamId"),""===this.teamId||"undefined"===this.teamId||null===this.teamId?window.location="school-main.html":this.loadStepListData()},loadStepListData(){let t=this;this.$http.post("/doproject/steplist",{teamid:t.teamId},e=>{if(e.success){e.data.assistantQQ&&(t.href="tencent://message/?Menu=yes&uin="+e.data.assistantQQ+"&Site=1111&Service=300&sigT=45a1e5847943b64c6ff3990f8a9e644d2b31356cb0b4ac6b24663a3c8dd0f8aa12a595b1714f9d45"),t.projectName=e.data.projectName,t.groupLinks=e.data.groupLinks;for(let t of e.data.stages){t.iconShow=!1,t.msgStatus=1;let e=0;for(let a of t.steps)if(2===a.status&&e++,0===a.msgStatus&&(t.msgStatus=1),3===a.status||e===t.steps.length){t.iconShow=!0;break}}t.stepData=e.data.stages,t.currentStageId=e.data.currentStageId;for(let e of t.stepData)e.stageId===t.currentStageId&&(t.currentStepId=e.steps[0].stepId);this.loadStepinfo(),this.loadDiscussionTreeInfo(),this.getComment(),this.getNo()}})},loadAppointListData(){let t=this;this.$http.post("/doproject/appointstatus",{teamid:t.teamId,stepid:t.currentStepId},e=>{e.success&&(t.appointListData=e.data.status,t.isTeamLeader=e.data.teamLeader)})},loadDiscussionTreeInfo(){let t=this;this.$http.post("/doproject/discussionTreeInfo",{projectId:localStorage.getItem("projectId")},e=>{e.success&&(t.comment=e.data,t.$nextTick(function(){document.getElementById("commentContent").scrollTop=document.getElementById("commentContent").scrollHeight}))})},loadMemberStatusData(){let t=this;this.$http.post("/doproject/memberstatus",{teamid:t.teamId,stepid:t.currentStepId},e=>{e.success&&(t.memberStatusData=e.data)})},loadStepinfo(){let t=this;this.$http.post("/doproject/stepinfo",{teamid:t.teamId,stepid:t.currentStepId},e=>{e.success&&(t.stepInfo=e.data,t.data3=[{name:"成果物点评"}],this.templateName=[],-1!==e.data.templateName.indexOf(",")?this.templateName=e.data.templateName.split(","):this.templateName.push(e.data.templateName),1===t.stepInfo.category&&2===t.stepInfo.status&&t.echartShow())})},getComment(){let t=this;this.$http.post("/doproject/outputlist",{teamid:t.teamId,stepid:t.currentStepId},e=>{if(null!==e.data){t.isReviewData=!0;for(let t of e.data)t.commentDetailedIsShow=!1,t.message="";t.commentData=e.data}else t.isReviewData=!1,t.commentData=[]})},getNo(){let t=this;this.$http.post("/doproject/rankStatisticsInfo",{teamId:t.teamId},e=>{t.no=e.data.classRank,t.noFail=e.data.classHeadCount-e.data.classRank})},sizeChange(t){return this.winWidth*t/1920+"px"},clickStep(t){},writeRely(){let t=this;t.isShow=!t.isShow},activeItem(t,e){let a=this;a.showTapName=e,0===t&&a.getComment()},activeItemList(t,e){let a=this;a.fileName="暂未上传文件",a.currentStepId=e,this.getComment(),this.$http.post("/doproject/stepinfo",{teamid:a.teamId,stepid:e},t=>{t.success&&(this.templateName=[],-1!==t.data.templateName.indexOf(",")?this.templateName=t.data.templateName.split(","):this.templateName.push(t.data.templateName),a.stepInfo=t.data,a.data3=[{name:"成果物点评"}]),1===t.data.type&&2===t.data.status&&a.echartShow()})},appointMember(t){t.status=1},saveAppoint(){let t=this,e=[];for(let a of this.appointListData)1===a.status&&e.push(a.userCode);e.length>0&&t.$alert("任务指派后将无法修改，是否进行保存","提示",{confirmButtonText:"确定",callback:a=>{t.$http.post("/doproject/appointstep",{teamid:t.teamId,stepid:1,users:e},e=>{e.success&&t.$message("保存成功")})}})},submitFont(t){let e=this;""===e.commentContent?e.$alert("请输入需要提问的内容后再提交","提示",{confirmButtonText:"确定"}):(e.$http.post("/doproject/submitfeedback",{outputid:t,feedbacks:e.commentContent},t=>{t.success&&e.$message("保存成功")}),e.upLoad())},playVideo(t){window.open(""+t,"_blank")},downloadTemplate(t){const e=i.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});this.$axios({method:"post",url:"http://39.100.37.131:8085/lying-web/doproject/output/downloadtemplate",data:{filename:t},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var s=new Blob([a.data]),i=document.createElement("a"),o=window.URL.createObjectURL(s);i.href=o,i.download=t.split("$_$")[1],document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o),setTimeout(()=>{e.close()},1e3)}).catch(t=>{console.log(t),setTimeout(()=>{e.close()},1e3)})},download(t){const e=i.a.service({lock:!0,text:"下载中请稍候...",spinner:"el-icon-loading",background:"rgba(f, 0, 0, 0.7)"});this.$axios({method:"post",url:"http://39.100.37.131:8085/lying-web/doproject/output/downloadFile",data:{filename:t},responseType:"blob",headers:{token:localStorage.getItem("token"),"Content-Type":"application/json; charset=UTF-8"}}).then(a=>{var s=new Blob([a.data]),i=document.createElement("a"),o=window.URL.createObjectURL(s);i.href=o,i.download=t.split("$_$")[1],document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o),setTimeout(()=>{e.close()},1e3)}).catch(t=>{console.log(t),setTimeout(()=>{e.close()},1e3)})},seeRightAnswer(t){let e=this;null!==t?e.$nextTick(()=>{this.pdfFineUrl="http://39.100.37.131/file/pdffile/"+t+".pdf",this.pdfMyUrl="http://39.100.37.131/file/pdffile/"+e.commentData[e.commentData.length-1].name+".pdf",this.pdfFineIsContrast=!0,this.pdfFineFlg=!0,this.pdfMyFlg=!0}):e.$message("此任务无答案")},answerPage(){let t=this;t.$http.post("/doproject/evaluating/paperinfo",{teamid:t.teamId,stepid:t.currentStepId},e=>{if(e.success){for(let a of e.data.problems)0===a.type?a.radio="":1===a.type&&(a.radio=[]),d["default"].set(t.answer,a.problemId,"");t.timeLimit=1e3*e.data.timeLimit*60,this.countTime(),t.paperInfo=e.data,t.paperId=e.data.paperId}});let e=new Date(new Date).getFullYear(),a=new Date(new Date).getMonth()+1<10?"0"+(new Date(new Date).getMonth()+1):new Date(new Date).getMonth()+1,s=new Date(new Date).getDate()<10?"0"+new Date(new Date).getDate():new Date(new Date).getDate(),i=new Date(new Date).getHours()<10?"0"+new Date(new Date).getHours():new Date(new Date).getHours(),o=new Date(new Date).getMinutes()<10?"0"+new Date(new Date).getMinutes():new Date(new Date).getMinutes(),n=new Date(new Date).getSeconds()<10?"0"+new Date(new Date).getSeconds():new Date(new Date).getSeconds();t.starttime=e+"-"+a+"-"+s+" "+i+":"+o+":"+n,t.answerShow=!0},commitPage(){let t=this;for(let s of t.paperInfo.problems)if(0===s.type)t.answer[s.problemId]=s.radio;else if(1===s.type){s.radio=s.radio.sort();for(var e="",a=0;a<s.radio.length;a++)0===a?e=s.radio[a]:e+=","+s.radio[a];s.radio=e,t.answer[s.problemId]=s.radio}t.$http.post("/doproject/evaluating/submit",{teamid:t.teamId,stepid:t.currentStepId,paperid:t.paperId,starttime:t.starttime,answer:t.answer},e=>{e.success&&(t.$message("保存成功"),t.loadStepListData(),t.answerShow=!1)})},countTime:function(){this.timeLimit>=0&&(this.d=Math.floor(this.timeLimit/1e3/60/60/24),this.h=Math.floor(this.timeLimit/1e3/60/60%24),this.m=Math.floor(this.timeLimit/1e3/60%60),this.s=Math.floor(this.timeLimit/1e3%60)),0===this.timeLimit&&(this.commitPage(),this.$message("时间已到")),this.timeLimit=this.timeLimit-1e3,setTimeout(this.countTime,1e3)},drawLine(){var t=this.$echarts.init(this.document);t.setOption({title:{text:"测评结果",x:"left"},tooltip:{},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:this.listTotal},series:[{name:"各个维度题目正确数",type:"radar",data:this.listResult}]})},deleteComment(t){let e=this;e.$http.post("/doproject/output/deleteOutput",{outputName:t},t=>{t.success&&e.loadStepListData()})},echartShow(){let t=this;t.$http.post("/doproject/evaluating/evaluatingresultinfo",{teamid:t.teamId,stepid:t.currentStepId},e=>{t.orderNum=e.data.order,t.listResult=e.data.list2,t.listTotal=e.data.list1,t.$nextTick(function(){t.document=document.getElementById("myChart"),t.drawLine()})})},beforeAvatarUpload(t){this.file=t,this.files=t;const e="doc"===t.name.split(".")[1],a="docx"===t.name.split(".")[1],s="zip"===t.name.split(".")[1],i=t.size/1024/1024<20;return e||a||s?i?(this.fileName=t.name,!0):(this.$message.error("上传模板大小不能超过 20MB!"),!1):(this.$message.error("上传模板只能是 doc、docx、zip格式!"),!1)},handleChange(t,e){this.fileList=e.slice(-3)},handleExceed(t,e){this.$message.warning("当前限制选择 1 个文件，已经上传一个文件，如需修改，请删除已上传的文件后再重新上传")},beforeRemove(){this.fileList=[]},upLoad(){let t=this;var e=new FormData;e.append("file",t.file),e.append("teamid",t.teamId),e.append("stepid",t.currentStepId),this.$http.uploadFile("/doproject/output/upload",e,e=>{this.fileList=[],e.success&&(t.$message("上传成果物成功"),t.loadStepListData())})},changeCommenter(t,e){this.commentId=t,this.place="回复："+e},addCommentArea(){var t="";if(t=!1===this.showEditor?this.commentAddData:this.article.content,""===t)this.$message("发表内容不能为空，请输入要发表的内容再进行发布！");else{let l=new Date;var e=l.getFullYear()+"-",a=l.getMonth()+1<10?"0"+(l.getMonth()+1)+"-":l.getMonth()+1+"-",s=l.getDate()<10?"0"+l.getDate()+" ":l.getDate()+" ",i=l.getHours()<10?"0"+l.getHours()+":":l.getHours()+":",o=l.getMinutes()<10?"0"+l.getMinutes()+":":l.getMinutes()+":",n=l.getSeconds()<10?"0"+l.getSeconds():l.getSeconds();let r=this;r.$http.post("/doproject/submitDiscussion",{commentTime:e+a+s+i+o+n,content:t,projectId:localStorage.getItem("projectId"),commentId:r.commentId,stepId:r.currentStepId},t=>{r.$message("发布成功"),r.commentAddData="",this.$Editor.methods.clearEditor(),r.commentId=null,r.place="请输入要发表的内容",r.loadDiscussionTreeInfo()})}},showEditorComment(){this.showEditor=!this.showEditor,!1===this.showEditor?this.messageLage="放大，使用富文本进行发表":this.messageLage="缩小，使用普通文本框进行发表",this.$nextTick(()=>{document.querySelector("#commentAdd").scrollIntoView(!0)})},showDetails(t){let e="";"ASSISTANT_COMMENT"===t.commentCode?this.$http.post("/doproject/assistantcommentinfo",{outputid:t.outputId},t=>{if(t.success){e=' <div class="doc-detail">\n<div style="color: #6715CE">成果物缺陷点：</div>\n<span>\n';for(let a of t.data.advices)e+=a+" ; ";e+='</span>\n<div style="color: #6715CE">助教点评：</div>\n<span>\n';for(let a of t.data.evaluates)e+=a+" ; ";e+="</span>\n</div>",this.$alert(e,"点评内容",{dangerouslyUseHTMLString:!0})}}):-1===t.status?(this.tableData=[],this.$http.post("/doproject/systemCommentInfo",{outputId:t.outputId,commentCode:t.commentCode},e=>{if(e.success)if(console.log(e),"CODE_STYLE"===t.commentCode)if(this.machine=t.name.split("$_$")[1]+"代码规范检查",0===e.data.codeStyles.length)this.$message.error("文档格式错误，未通过");else{this.showCheck=!0;for(let t of e.data.codeStyles)for(let e of t.errors)this.tableData.push({fileName:t.fileName,error:e});this.htmlShow=!1}else"CODE_LOGIC"===t.commentCode?"N"===e.data.codeLogic.result&&0===e.data.codeLogic.warnNumber?this.$message.error(e.data.codeLogic.detail):(this.machine=t.name.split("$_$")[1]+"代码逻辑检查",this.htmlShow=!0,this.showCheck=!0,this.urlHtml=e.data.detail):"N"===e.data.codeLogic.result&&0===e.data.codeLogic.threshold?this.$message.error(e.data.codeLogic.detail):(this.machine=t.name.split("$_$")[1]+"文档查重",this.htmlShow=!0,this.showCheck=!0,this.urlHtml=e.data.detail)})):this.$message.success("任务完美通过，暂无详情")},close(){this.showCheck=!1},textareaFocus(){this.place="请输入要发表的内容",this.commentId=null},closePdf(){this.pdfFineFlg=!1,this.pdfMyFlg=!1}}}}).call(this,a("1157"))},d785:function(t,e,a){},e112:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.serverUrl,name:"file",headers:t.header,"show-file-list":!1,"list-type":"picture",multiple:!1,"on-success":t.uploadSuccess,"on-error":t.uploadError,"before-upload":t.beforeUpload}}),a("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},i=[],o=a("953d");a("a7539"),a("8096"),a("14e1");const n=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["image","video"]];var l={props:{value:{type:String},maxSize:{type:Number,default:4e3}},components:{quillEditor:o["quillEditor"]},data(){return{content:this.value,quillUpdateImg:!1,editorOption:{theme:"snow",placeholder:"您想说点什么？",modules:{toolbar:{container:n,handlers:{image:function(t){t?document.querySelector(".avatar-uploader input").click():this.quill.format("image",!1)}}}}},serverUrl:"http://39.100.37.131:8085/lying-web/doproject/output/uploadCommentImage",header:{token:localStorage.getItem("token")}}},methods:{onEditorBlur(){},onEditorFocus(){},onEditorChange(){this.$emit("input",this.content)},clearEditor(){document.getElementsByClassName("ql-editor")[0].innerHTML=""},beforeUpload(){this.quillUpdateImg=!0},uploadSuccess(t,e){let a=this.$refs.myQuillEditor.quill;if("0000"===t.code){let e=a.getSelection().index;a.insertEmbed(e,"image",JSON.parse(t.data).imageUrl),a.setSelection(e+1)}else this.$message.error(t.msg);this.quillUpdateImg=!1},uploadError(){this.quillUpdateImg=!1,this.$message.error("图片插入失败")}}},r=l,c=(a("4db7"),a("2877")),d=Object(c["a"])(r,s,i,!1,null,null,null);e["a"]=d.exports}});
//# sourceMappingURL=task-list.4e9f0e2f.js.map